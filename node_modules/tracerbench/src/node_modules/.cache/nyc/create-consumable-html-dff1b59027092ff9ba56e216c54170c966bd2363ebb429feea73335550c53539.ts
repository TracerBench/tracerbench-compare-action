"use strict";function cov_gjn95tcx8(){var path="/Users/malynch/D/tracerbench/packages/cli/src/helpers/create-consumable-html.ts";var hash="5a7581abc9e630a451f9b40fd65dd8fdebdebdca";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/malynch/D/tracerbench/packages/cli/src/helpers/create-consumable-html.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:197}},"2":{start:{line:5,column:16},end:{line:5,column:45}},"3":{start:{line:6,column:19},end:{line:6,column:38}},"4":{start:{line:7,column:19},end:{line:7,column:40}},"5":{start:{line:8,column:13},end:{line:8,column:28}},"6":{start:{line:9,column:28},end:{line:9,column:74}},"7":{start:{line:10,column:16},end:{line:10,column:34}},"8":{start:{line:11,column:0},end:{line:11,column:36}},"9":{start:{line:12,column:23},end:{line:12,column:76}},"10":{start:{line:13,column:22},end:{line:13,column:82}},"11":{start:{line:14,column:20},end:{line:14,column:73}},"12":{start:{line:15,column:29},end:{line:15,column:87}},"13":{start:{line:16,column:31},end:{line:16,column:91}},"14":{start:{line:17,column:18},end:{line:17,column:65}},"15":{start:{line:18,column:17},end:{line:18,column:63}},"16":{start:{line:19,column:34},end:{line:19,column:87}},"17":{start:{line:20,column:36},end:{line:20,column:91}},"18":{start:{line:21,column:26},end:{line:21,column:70}},"19":{start:{line:22,column:0},end:{line:24,column:80}},"20":{start:{line:25,column:0},end:{line:25,column:79}},"21":{start:{line:26,column:0},end:{line:26,column:76}},"22":{start:{line:30,column:0},end:{line:32,column:3}},"23":{start:{line:31,column:4},end:{line:31,column:63}},"24":{start:{line:31,column:43},end:{line:31,column:61}},"25":{start:{line:36,column:0},end:{line:38,column:3}},"26":{start:{line:37,column:4},end:{line:37,column:31}},"27":{start:{line:42,column:0},end:{line:44,column:3}},"28":{start:{line:43,column:4},end:{line:43,column:25}},"29":{start:{line:48,column:0},end:{line:52,column:3}},"30":{start:{line:49,column:19},end:{line:49,column:51}},"31":{start:{line:50,column:4},end:{line:50,column:33}},"32":{start:{line:50,column:26},end:{line:50,column:31}},"33":{start:{line:51,column:4},end:{line:51,column:28}},"34":{start:{line:60,column:54},end:{line:60,column:64}},"35":{start:{line:61,column:20},end:{line:61,column:52}},"36":{start:{line:62,column:4},end:{line:69,column:7}},"37":{start:{line:63,column:8},end:{line:63,column:77}},"38":{start:{line:64,column:8},end:{line:68,column:11}},"39":{start:{line:65,column:27},end:{line:65,column:57}},"40":{start:{line:66,column:12},end:{line:66,column:45}},"41":{start:{line:67,column:12},end:{line:67,column:46}},"42":{start:{line:70,column:4},end:{line:70,column:19}},"43":{start:{line:72,column:0},end:{line:72,column:46}},"44":{start:{line:82,column:25},end:{line:88,column:5}},"45":{start:{line:89,column:4},end:{line:98,column:5}},"46":{start:{line:90,column:8},end:{line:97,column:11}},"47":{start:{line:91,column:12},end:{line:96,column:13}},"48":{start:{line:92,column:16},end:{line:92,column:64}},"49":{start:{line:95,column:16},end:{line:95,column:67}},"50":{start:{line:101,column:4},end:{line:103,column:5}},"51":{start:{line:102,column:8},end:{line:102,column:43}},"52":{start:{line:104,column:4},end:{line:104,column:24}},"53":{start:{line:106,column:0},end:{line:106,column:38}},"54":{start:{line:115,column:32},end:{line:115,column:92}},"55":{start:{line:115,column:39},end:{line:115,column:92}},"56":{start:{line:116,column:33},end:{line:116,column:92}},"57":{start:{line:117,column:36},end:{line:117,column:98}},"58":{start:{line:118,column:19},end:{line:118,column:96}},"59":{start:{line:118,column:67},end:{line:118,column:95}},"60":{start:{line:119,column:4},end:{line:123,column:6}},"61":{start:{line:121,column:54},end:{line:121,column:77}},"62":{start:{line:122,column:57},end:{line:122,column:83}},"63":{start:{line:125,column:0},end:{line:125,column:60}},"64":{start:{line:136,column:18},end:{line:140,column:6}},"65":{start:{line:141,column:29},end:{line:143,column:82}},"66":{start:{line:144,column:4},end:{line:171,column:6}},"67":{start:{line:173,column:0},end:{line:173,column:42}},"68":{start:{line:178,column:21},end:{line:178,column:23}},"69":{start:{line:179,column:21},end:{line:179,column:22}},"70":{start:{line:180,column:4},end:{line:188,column:5}},"71":{start:{line:181,column:8},end:{line:187,column:9}},"72":{start:{line:182,column:12},end:{line:182,column:28}},"73":{start:{line:186,column:12},end:{line:186,column:39}},"74":{start:{line:189,column:4},end:{line:193,column:5}},"75":{start:{line:190,column:8},end:{line:192,column:9}},"76":{start:{line:191,column:12},end:{line:191,column:28}},"77":{start:{line:194,column:4},end:{line:194,column:13}},"78":{start:{line:196,column:0},end:{line:196,column:34}},"79":{start:{line:198,column:33},end:{line:198,column:71}},"80":{start:{line:199,column:36},end:{line:199,column:77}},"81":{start:{line:200,column:22},end:{line:200,column:99}},"82":{start:{line:200,column:70},end:{line:200,column:98}},"83":{start:{line:201,column:28},end:{line:201,column:162}},"84":{start:{line:202,column:29},end:{line:208,column:6}},"85":{start:{line:203,column:30},end:{line:203,column:57}},"86":{start:{line:204,column:33},end:{line:204,column:63}},"87":{start:{line:205,column:35},end:{line:205,column:90}},"88":{start:{line:206,column:8},end:{line:206,column:58}},"89":{start:{line:207,column:8},end:{line:207,column:34}},"90":{start:{line:209,column:4},end:{line:209,column:51}},"91":{start:{line:210,column:4},end:{line:210,column:49}},"92":{start:{line:212,column:0},end:{line:212,column:50}},"93":{start:{line:214,column:25},end:{line:214,column:92}},"94":{start:{line:215,column:50},end:{line:215,column:112}},"95":{start:{line:216,column:21},end:{line:216,column:60}},"96":{start:{line:217,column:4},end:{line:224,column:7}},"97":{start:{line:226,column:0},end:{line:226,column:39}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:46},end:{line:32,column:1}},line:30},"1":{name:"(anonymous_1)",decl:{start:{line:31,column:36},end:{line:31,column:37}},loc:{start:{line:31,column:43},end:{line:31,column:61}},line:31},"2":{name:"(anonymous_2)",decl:{start:{line:36,column:38},end:{line:36,column:39}},loc:{start:{line:36,column:52},end:{line:38,column:1}},line:36},"3":{name:"(anonymous_3)",decl:{start:{line:42,column:33},end:{line:42,column:34}},loc:{start:{line:42,column:42},end:{line:44,column:1}},line:42},"4":{name:"(anonymous_4)",decl:{start:{line:48,column:37},end:{line:48,column:38}},loc:{start:{line:48,column:63},end:{line:52,column:1}},line:48},"5":{name:"(anonymous_5)",decl:{start:{line:50,column:16},end:{line:50,column:17}},loc:{start:{line:50,column:26},end:{line:50,column:31}},line:50},"6":{name:"bucketPhaseValues",decl:{start:{line:60,column:9},end:{line:60,column:26}},loc:{start:{line:60,column:66},end:{line:71,column:1}},line:60},"7":{name:"(anonymous_7)",decl:{start:{line:60,column:47},end:{line:60,column:48}},loc:{start:{line:60,column:54},end:{line:60,column:64}},line:60},"8":{name:"(anonymous_8)",decl:{start:{line:62,column:20},end:{line:62,column:21}},loc:{start:{line:62,column:32},end:{line:69,column:5}},line:62},"9":{name:"(anonymous_9)",decl:{start:{line:64,column:30},end:{line:64,column:31}},loc:{start:{line:64,column:45},end:{line:68,column:9}},line:64},"10":{name:"resolveTitles",decl:{start:{line:81,column:9},end:{line:81,column:22}},loc:{start:{line:81,column:53},end:{line:105,column:1}},line:81},"11":{name:"(anonymous_11)",decl:{start:{line:90,column:52},end:{line:90,column:53}},loc:{start:{line:90,column:74},end:{line:97,column:9}},line:90},"12":{name:"buildCumulativeChartData",decl:{start:{line:114,column:9},end:{line:114,column:33}},loc:{start:{line:114,column:63},end:{line:124,column:1}},line:114},"13":{name:"(anonymous_13)",decl:{start:{line:115,column:32},end:{line:115,column:33}},loc:{start:{line:115,column:39},end:{line:115,column:92}},line:115},"14":{name:"(anonymous_14)",decl:{start:{line:118,column:60},end:{line:118,column:61}},loc:{start:{line:118,column:67},end:{line:118,column:95}},line:118},"15":{name:"(anonymous_15)",decl:{start:{line:121,column:47},end:{line:121,column:48}},loc:{start:{line:121,column:54},end:{line:121,column:77}},line:121},"16":{name:"(anonymous_16)",decl:{start:{line:122,column:50},end:{line:122,column:51}},loc:{start:{line:122,column:57},end:{line:122,column:83}},line:122},"17":{name:"formatPhaseData",decl:{start:{line:135,column:9},end:{line:135,column:24}},loc:{start:{line:135,column:69},end:{line:172,column:1}},line:135},"18":{name:"phaseSorter",decl:{start:{line:177,column:9},end:{line:177,column:20}},loc:{start:{line:177,column:27},end:{line:195,column:1}},line:177},"19":{name:"generateDataForHTML",decl:{start:{line:197,column:9},end:{line:197,column:28}},loc:{start:{line:197,column:72},end:{line:211,column:1}},line:197},"20":{name:"(anonymous_20)",decl:{start:{line:200,column:63},end:{line:200,column:64}},loc:{start:{line:200,column:70},end:{line:200,column:98}},line:200},"21":{name:"(anonymous_21)",decl:{start:{line:202,column:43},end:{line:202,column:44}},loc:{start:{line:202,column:54},end:{line:208,column:5}},line:202},"22":{name:"createConsumableHTML",decl:{start:{line:213,column:9},end:{line:213,column:29}},loc:{start:{line:213,column:80},end:{line:225,column:1}},line:213}},branchMap:{"0":{loc:{start:{line:60,column:36},end:{line:60,column:64}},type:"default-arg",locations:[{start:{line:60,column:47},end:{line:60,column:64}}],line:60},"1":{loc:{start:{line:65,column:27},end:{line:65,column:57}},type:"binary-expr",locations:[{start:{line:65,column:27},end:{line:65,column:51}},{start:{line:65,column:55},end:{line:65,column:57}}],line:65},"2":{loc:{start:{line:84,column:19},end:{line:86,column:59}},type:"cond-expr",locations:[{start:{line:85,column:14},end:{line:85,column:32}},{start:{line:86,column:14},end:{line:86,column:59}}],line:84},"3":{loc:{start:{line:89,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:89,column:4},end:{line:98,column:5}},{start:{line:89,column:4},end:{line:98,column:5}}],line:89},"4":{loc:{start:{line:91,column:12},end:{line:96,column:13}},type:"if",locations:[{start:{line:91,column:12},end:{line:96,column:13}},{start:{line:91,column:12},end:{line:96,column:13}}],line:91},"5":{loc:{start:{line:101,column:4},end:{line:103,column:5}},type:"if",locations:[{start:{line:101,column:4},end:{line:103,column:5}},{start:{line:101,column:4},end:{line:103,column:5}}],line:101},"6":{loc:{start:{line:141,column:29},end:{line:143,column:82}},type:"binary-expr",locations:[{start:{line:141,column:30},end:{line:141,column:62}},{start:{line:141,column:66},end:{line:141,column:98}},{start:{line:142,column:9},end:{line:142,column:41}},{start:{line:142,column:45},end:{line:142,column:77}},{start:{line:143,column:9},end:{line:143,column:43}},{start:{line:143,column:47},end:{line:143,column:81}}],line:141},"7":{loc:{start:{line:180,column:4},end:{line:188,column:5}},type:"if",locations:[{start:{line:180,column:4},end:{line:188,column:5}},{start:{line:180,column:4},end:{line:188,column:5}}],line:180},"8":{loc:{start:{line:181,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:181,column:8},end:{line:187,column:9}},{start:{line:181,column:8},end:{line:187,column:9}}],line:181},"9":{loc:{start:{line:189,column:4},end:{line:193,column:5}},type:"if",locations:[{start:{line:189,column:4},end:{line:193,column:5}},{start:{line:189,column:4},end:{line:193,column:5}}],line:189},"10":{loc:{start:{line:190,column:8},end:{line:192,column:9}},type:"if",locations:[{start:{line:190,column:8},end:{line:192,column:9}},{start:{line:190,column:8},end:{line:192,column:9}}],line:190}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},b:{"0":[0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},inputSourceMap:{version:3,file:"/Users/malynch/D/tracerbench/packages/cli/src/helpers/create-consumable-html.ts",sources:["/Users/malynch/D/tracerbench/packages/cli/src/helpers/create-consumable-html.ts"],names:[],mappings:"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",sourcesContent:["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Stats } from \"@tracerbench/stats\";\nimport { readFileSync } from \"fs-extra\";\nimport * as Handlebars from \"handlebars\";\nimport * as path from \"path\";\n\nimport { ITBConfig } from \"../command-config\";\nimport { defaultFlagArgs } from \"../command-config/default-flag-args\";\nimport { convertMicrosecondsToMS } from \"./utils\";\n\nexport interface Sample {\n  duration: number;\n  js: number;\n  phases: Array<{\n    phase: string;\n    start: number;\n    duration: number;\n  }>;\n  gc: any;\n  blinkGC: any;\n}\n\nexport interface ITracerBenchTraceResult {\n  meta: {\n    browserVersion: string;\n    cpus: string[];\n  };\n  samples: Sample[];\n  set: string;\n}\n\nexport interface IFormatedSamples {\n  min: number;\n  q1: number;\n  median: number;\n  q3: number;\n  max: number;\n  outliers: number[];\n  samplesMS: number[];\n}\n\nexport interface HTMLSectionRenderData {\n  isSignificant: boolean;\n  ciMin: number;\n  ciMax: number;\n  hlDiff: number;\n  phase: string;\n  identifierHash: string;\n  sampleCount: number;\n  servers: any;\n  controlFormatedSamples: string;\n  experimentFormatedSamples: string;\n}\n\ninterface ValuesByPhase {\n  [key: string]: number[];\n}\n\nexport const PAGE_LOAD_TIME = \"duration\";\n\nconst CHART_CSS_PATH = path.join(__dirname, \"../static/chart-bootstrap.css\");\nconst CHART_JS_PATH = path.join(\n  __dirname,\n  \"../static/chartjs-2.9.3-chart.min.js\"\n);\nconst REPORT_PATH = path.join(__dirname, \"../static/report-template.hbs\");\nconst PHASE_DETAIL_PARTIAL = path.join(\n  __dirname,\n  \"../static/phase-detail-partial.hbs\"\n);\nconst PHASE_CHART_JS_PARTIAL = path.join(\n  __dirname,\n  \"../static/phase-chart-js-partial.hbs\"\n);\n\nconst CHART_CSS = readFileSync(CHART_CSS_PATH, \"utf8\");\nconst CHART_JS = readFileSync(CHART_JS_PATH, \"utf8\");\nconst PHASE_DETAIL_TEMPLATE_RAW = readFileSync(PHASE_DETAIL_PARTIAL, \"utf8\");\nconst PHASE_CHART_JS_TEMPLATE_RAW = readFileSync(\n  PHASE_CHART_JS_PARTIAL,\n  \"utf8\"\n);\nlet REPORT_TEMPLATE_RAW = readFileSync(REPORT_PATH, \"utf8\");\n\nREPORT_TEMPLATE_RAW = REPORT_TEMPLATE_RAW.toString()\n  .replace(\n    \"{{!-- TRACERBENCH-CHART-BOOTSTRAP.CSS --}}\",\n    `<style>${CHART_CSS}</style>`\n  )\n  .replace(\"{{!-- TRACERBENCH-CHART-JS --}}\", `<script>${CHART_JS}</script>`);\n\nHandlebars.registerPartial(\"phaseChartJSSection\", PHASE_CHART_JS_TEMPLATE_RAW);\nHandlebars.registerPartial(\"phaseDetailSection\", PHASE_DETAIL_TEMPLATE_RAW);\n/**\n * Camel case helper\n */\nHandlebars.registerHelper(\"toCamel\", (val) => {\n  return val.replace(/-([a-z])/g, (g: string) => g[1].toUpperCase());\n});\n\n/**\n * Negative means slower\n */\nHandlebars.registerHelper(\"isFaster\", (analysis) => {\n  return analysis.hlDiff > 0;\n});\n\n/**\n * Absolute number helper\n */\nHandlebars.registerHelper(\"abs\", (num) => {\n  return Math.abs(num);\n});\n\n/**\n * Sort the given numbers by their absolute values\n */\nHandlebars.registerHelper(\"absSort\", (num1, num2, position) => {\n  const sorted = [Math.abs(num1), Math.abs(num2)];\n  sorted.sort((a, b) => a - b);\n  return sorted[position];\n});\n\n/**\n * Extract the phases and page load time latency into sorted buckets by phase\n *\n * @param samples - Array of \"sample\" objects\n * @param valueGen - Calls this function to extract the value from the phase. A\n *   \"phase\" is passed containing duration and start\n */\nexport function bucketPhaseValues(\n  samples: Sample[],\n  valueGen: any = (a: any) => a.duration\n): ValuesByPhase {\n  const buckets: { [key: string]: number[] } = { [PAGE_LOAD_TIME]: [] };\n\n  samples.forEach((sample: Sample) => {\n    buckets[PAGE_LOAD_TIME].push(sample[PAGE_LOAD_TIME]);\n\n    sample.phases.forEach((phaseData) => {\n      const bucket = buckets[phaseData.phase] || [];\n      bucket.push(valueGen(phaseData));\n      buckets[phaseData.phase] = bucket;\n    });\n  });\n\n  return buckets;\n}\n\nexport interface ParsedTitleConfigs {\n  servers: Array<{ name: string }>;\n  plotTitle: string | undefined;\n  browserVersion: string;\n}\n\n/**\n * Override the default server and plot title attributes\n *\n * @param tbConfig - Concerned only about the \"servers\" and \"plotTitle\"\n *   attribute\n * @param version - Browser version\n * @param plotTitle - Optional explicit title from cli flag\n */\nexport function resolveTitles(\n  tbConfig: Partial<ITBConfig>,\n  version: string,\n  plotTitle?: string\n): ParsedTitleConfigs {\n  const reportTitles = {\n    servers: [{ name: \"Control\" }, { name: \"Experiment\" }],\n    plotTitle: tbConfig.plotTitle\n      ? tbConfig.plotTitle\n      : defaultFlagArgs.plotTitle,\n    browserVersion: version,\n  };\n\n  if (tbConfig.servers) {\n    reportTitles.servers = tbConfig.servers.map((titleConfig, idx) => {\n      if (idx === 0) {\n        return { name: `Control: ${titleConfig.name}` };\n      } else {\n        return { name: `Experiment: ${titleConfig.name}` };\n      }\n    });\n  }\n\n  // if passing an explicit plotTitle via cli flag this trumps\n  // the tbConfig.plotTitle and defaults\n  if (plotTitle) {\n    reportTitles.plotTitle = plotTitle;\n  }\n\n  return reportTitles;\n}\n\n/**\n * Generate the HTML render data for the cumulative chart. Ensure to convert to\n * milliseconds for presentation\n *\n * @param controlData - Samples of the benchmark of control server\n * @param experimentData - Samples of the benchmark experiment server\n */\nexport function buildCumulativeChartData(\n  controlData: ITracerBenchTraceResult,\n  experimentData: ITracerBenchTraceResult\n): { [key: string]: string } {\n  const cumulativeValueFunc = (a: { [key: string]: number }): number =>\n    convertMicrosecondsToMS(a.start + a.duration);\n\n  const valuesByPhaseControl = bucketPhaseValues(\n    controlData.samples,\n    cumulativeValueFunc\n  );\n  const valuesByPhaseExperiment = bucketPhaseValues(\n    experimentData.samples,\n    cumulativeValueFunc\n  );\n  const phases = Object.keys(valuesByPhaseControl).filter(\n    (k) => k !== PAGE_LOAD_TIME\n  );\n\n  return {\n    categories: JSON.stringify(phases),\n    controlData: JSON.stringify(phases.map((k) => valuesByPhaseControl[k])),\n    experimentData: JSON.stringify(\n      phases.map((k) => valuesByPhaseExperiment[k])\n    ),\n  };\n}\n\n/**\n * Call the stats helper functions to generate the confidence interval and\n * Hodges\u2013Lehmann estimator. Format the data into HTMLSectionRenderData\n * structure.\n *\n * @param controlValues - Values for the control for the phase\n * @param experimentValues - Values for the experiment for the phase\n * @param phaseName - Name of the phase the values represent\n */\nexport function formatPhaseData(\n  controlValues: number[],\n  experimentValues: number[],\n  phaseName: string\n): HTMLSectionRenderData {\n  const stats = new Stats({\n    control: controlValues,\n    experiment: experimentValues,\n    name: \"output\",\n  });\n  const isNotSignificant =\n    (stats.confidenceInterval.min < 0 && 0 < stats.confidenceInterval.max) ||\n    (stats.confidenceInterval.min > 0 && 0 > stats.confidenceInterval.max) ||\n    (stats.confidenceInterval.min === 0 && stats.confidenceInterval.max === 0);\n\n  return {\n    phase: phaseName,\n    identifierHash: phaseName,\n    isSignificant: !isNotSignificant,\n    sampleCount: stats.sampleCount.control,\n    ciMin: stats.confidenceInterval.min,\n    ciMax: stats.confidenceInterval.max,\n    hlDiff: stats.estimator,\n    servers: undefined,\n    controlFormatedSamples: JSON.stringify({\n      min: stats.sevenFigureSummary.control.min,\n      q1: stats.sevenFigureSummary.control[25],\n      median: stats.sevenFigureSummary.control[50],\n      q3: stats.sevenFigureSummary.control[75],\n      max: stats.sevenFigureSummary.control.max,\n      outliers: stats.outliers.control.outliers,\n      samplesMS: stats.controlMS,\n    }),\n    experimentFormatedSamples: JSON.stringify({\n      min: stats.sevenFigureSummary.experiment.min,\n      q1: stats.sevenFigureSummary.experiment[25],\n      median: stats.sevenFigureSummary.experiment[50],\n      q3: stats.sevenFigureSummary.experiment[75],\n      max: stats.sevenFigureSummary.experiment.max,\n      outliers: stats.outliers.experiment.outliers,\n      samplesMS: stats.experimentMS,\n    }),\n  };\n}\n\n/**\n * Prioritize the phase that has the largest difference in regression first.\n */\nexport function phaseSorter(\n  a: HTMLSectionRenderData,\n  b: HTMLSectionRenderData\n): number {\n  const A_ON_TOP = -1;\n  const B_ON_TOP = 1;\n\n  if (a.isSignificant) {\n    if (!b.isSignificant) {\n      return A_ON_TOP;\n    } else {\n      // If both are significant prefer slowest one\n      return a.hlDiff - b.hlDiff;\n    }\n  }\n\n  if (b.isSignificant) {\n    if (!a.isSignificant) {\n      return B_ON_TOP;\n    }\n  }\n\n  return 0;\n}\n\nexport function generateDataForHTML(\n  controlData: ITracerBenchTraceResult,\n  experimentData: ITracerBenchTraceResult,\n  reportTitles: ParsedTitleConfigs\n): {\n  durationSection: HTMLSectionRenderData;\n  subPhaseSections: HTMLSectionRenderData[];\n} {\n  const valuesByPhaseControl = bucketPhaseValues(controlData.samples);\n  const valuesByPhaseExperiment = bucketPhaseValues(experimentData.samples);\n  const subPhases = Object.keys(valuesByPhaseControl).filter(\n    (k) => k !== PAGE_LOAD_TIME\n  );\n\n  const durationSection = formatPhaseData(\n    valuesByPhaseControl[PAGE_LOAD_TIME],\n    valuesByPhaseExperiment[PAGE_LOAD_TIME],\n    PAGE_LOAD_TIME\n  );\n\n  const subPhaseSections: HTMLSectionRenderData[] = subPhases.map((phase) => {\n    const controlValues = valuesByPhaseControl[phase];\n    const experimentValues = valuesByPhaseExperiment[phase];\n    const renderDataForPhase = formatPhaseData(\n      controlValues,\n      experimentValues,\n      phase\n    );\n\n    renderDataForPhase.servers = reportTitles.servers;\n    return renderDataForPhase as HTMLSectionRenderData;\n  });\n\n  durationSection.servers = reportTitles.servers;\n  return { durationSection, subPhaseSections };\n}\n\nexport default function createConsumableHTML(\n  controlData: ITracerBenchTraceResult,\n  experimentData: ITracerBenchTraceResult,\n  tbConfig: ITBConfig,\n  plotTitle?: string\n): string {\n  const reportTitles = resolveTitles(\n    tbConfig,\n    controlData.meta.browserVersion,\n    plotTitle\n  );\n  const { durationSection, subPhaseSections } = generateDataForHTML(\n    controlData,\n    experimentData,\n    reportTitles\n  );\n\n  const template = Handlebars.compile(REPORT_TEMPLATE_RAW);\n\n  return template({\n    cumulativeChartData: buildCumulativeChartData(controlData, experimentData),\n    durationSection,\n    reportTitles,\n    subPhaseSections,\n    configsSJSONString: JSON.stringify(tbConfig, null, 4),\n    sectionFormattedDataJson: JSON.stringify(subPhaseSections),\n  });\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5a7581abc9e630a451f9b40fd65dd8fdebdebdca"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_gjn95tcx8=function(){return actualCoverage;};}return actualCoverage;}cov_gjn95tcx8();cov_gjn95tcx8().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_gjn95tcx8().s[1]++;exports.generateDataForHTML=exports.phaseSorter=exports.formatPhaseData=exports.buildCumulativeChartData=exports.resolveTitles=exports.bucketPhaseValues=exports.PAGE_LOAD_TIME=void 0;/* eslint-disable @typescript-eslint/no-explicit-any */const stats_1=(cov_gjn95tcx8().s[2]++,require("@tracerbench/stats"));const fs_extra_1=(cov_gjn95tcx8().s[3]++,require("fs-extra"));const Handlebars=(cov_gjn95tcx8().s[4]++,require("handlebars"));const path=(cov_gjn95tcx8().s[5]++,require("path"));const default_flag_args_1=(cov_gjn95tcx8().s[6]++,require("../command-config/default-flag-args"));const utils_1=(cov_gjn95tcx8().s[7]++,require("./utils"));cov_gjn95tcx8().s[8]++;exports.PAGE_LOAD_TIME="duration";const CHART_CSS_PATH=(cov_gjn95tcx8().s[9]++,path.join(__dirname,"../static/chart-bootstrap.css"));const CHART_JS_PATH=(cov_gjn95tcx8().s[10]++,path.join(__dirname,"../static/chartjs-2.9.3-chart.min.js"));const REPORT_PATH=(cov_gjn95tcx8().s[11]++,path.join(__dirname,"../static/report-template.hbs"));const PHASE_DETAIL_PARTIAL=(cov_gjn95tcx8().s[12]++,path.join(__dirname,"../static/phase-detail-partial.hbs"));const PHASE_CHART_JS_PARTIAL=(cov_gjn95tcx8().s[13]++,path.join(__dirname,"../static/phase-chart-js-partial.hbs"));const CHART_CSS=(cov_gjn95tcx8().s[14]++,fs_extra_1.readFileSync(CHART_CSS_PATH,"utf8"));const CHART_JS=(cov_gjn95tcx8().s[15]++,fs_extra_1.readFileSync(CHART_JS_PATH,"utf8"));const PHASE_DETAIL_TEMPLATE_RAW=(cov_gjn95tcx8().s[16]++,fs_extra_1.readFileSync(PHASE_DETAIL_PARTIAL,"utf8"));const PHASE_CHART_JS_TEMPLATE_RAW=(cov_gjn95tcx8().s[17]++,fs_extra_1.readFileSync(PHASE_CHART_JS_PARTIAL,"utf8"));let REPORT_TEMPLATE_RAW=(cov_gjn95tcx8().s[18]++,fs_extra_1.readFileSync(REPORT_PATH,"utf8"));cov_gjn95tcx8().s[19]++;REPORT_TEMPLATE_RAW=REPORT_TEMPLATE_RAW.toString().replace("{{!-- TRACERBENCH-CHART-BOOTSTRAP.CSS --}}",`<style>${CHART_CSS}</style>`).replace("{{!-- TRACERBENCH-CHART-JS --}}",`<script>${CHART_JS}</script>`);cov_gjn95tcx8().s[20]++;Handlebars.registerPartial("phaseChartJSSection",PHASE_CHART_JS_TEMPLATE_RAW);cov_gjn95tcx8().s[21]++;Handlebars.registerPartial("phaseDetailSection",PHASE_DETAIL_TEMPLATE_RAW);/**
 * Camel case helper
 */cov_gjn95tcx8().s[22]++;Handlebars.registerHelper("toCamel",val=>{cov_gjn95tcx8().f[0]++;cov_gjn95tcx8().s[23]++;return val.replace(/-([a-z])/g,g=>{cov_gjn95tcx8().f[1]++;cov_gjn95tcx8().s[24]++;return g[1].toUpperCase();});});/**
 * Negative means slower
 */cov_gjn95tcx8().s[25]++;Handlebars.registerHelper("isFaster",analysis=>{cov_gjn95tcx8().f[2]++;cov_gjn95tcx8().s[26]++;return analysis.hlDiff>0;});/**
 * Absolute number helper
 */cov_gjn95tcx8().s[27]++;Handlebars.registerHelper("abs",num=>{cov_gjn95tcx8().f[3]++;cov_gjn95tcx8().s[28]++;return Math.abs(num);});/**
 * Sort the given numbers by their absolute values
 */cov_gjn95tcx8().s[29]++;Handlebars.registerHelper("absSort",(num1,num2,position)=>{cov_gjn95tcx8().f[4]++;const sorted=(cov_gjn95tcx8().s[30]++,[Math.abs(num1),Math.abs(num2)]);cov_gjn95tcx8().s[31]++;sorted.sort((a,b)=>{cov_gjn95tcx8().f[5]++;cov_gjn95tcx8().s[32]++;return a-b;});cov_gjn95tcx8().s[33]++;return sorted[position];});/**
 * Extract the phases and page load time latency into sorted buckets by phase
 *
 * @param samples - Array of "sample" objects
 * @param valueGen - Calls this function to extract the value from the phase. A
 *   "phase" is passed containing duration and start
 */function bucketPhaseValues(samples,valueGen=(cov_gjn95tcx8().b[0][0]++,a=>{cov_gjn95tcx8().f[7]++;cov_gjn95tcx8().s[34]++;return a.duration;})){cov_gjn95tcx8().f[6]++;const buckets=(cov_gjn95tcx8().s[35]++,{[exports.PAGE_LOAD_TIME]:[]});cov_gjn95tcx8().s[36]++;samples.forEach(sample=>{cov_gjn95tcx8().f[8]++;cov_gjn95tcx8().s[37]++;buckets[exports.PAGE_LOAD_TIME].push(sample[exports.PAGE_LOAD_TIME]);cov_gjn95tcx8().s[38]++;sample.phases.forEach(phaseData=>{cov_gjn95tcx8().f[9]++;const bucket=(cov_gjn95tcx8().s[39]++,(cov_gjn95tcx8().b[1][0]++,buckets[phaseData.phase])||(cov_gjn95tcx8().b[1][1]++,[]));cov_gjn95tcx8().s[40]++;bucket.push(valueGen(phaseData));cov_gjn95tcx8().s[41]++;buckets[phaseData.phase]=bucket;});});cov_gjn95tcx8().s[42]++;return buckets;}cov_gjn95tcx8().s[43]++;exports.bucketPhaseValues=bucketPhaseValues;/**
 * Override the default server and plot title attributes
 *
 * @param tbConfig - Concerned only about the "servers" and "plotTitle"
 *   attribute
 * @param version - Browser version
 * @param plotTitle - Optional explicit title from cli flag
 */function resolveTitles(tbConfig,version,plotTitle){cov_gjn95tcx8().f[10]++;const reportTitles=(cov_gjn95tcx8().s[44]++,{servers:[{name:"Control"},{name:"Experiment"}],plotTitle:tbConfig.plotTitle?(cov_gjn95tcx8().b[2][0]++,tbConfig.plotTitle):(cov_gjn95tcx8().b[2][1]++,default_flag_args_1.defaultFlagArgs.plotTitle),browserVersion:version});cov_gjn95tcx8().s[45]++;if(tbConfig.servers){cov_gjn95tcx8().b[3][0]++;cov_gjn95tcx8().s[46]++;reportTitles.servers=tbConfig.servers.map((titleConfig,idx)=>{cov_gjn95tcx8().f[11]++;cov_gjn95tcx8().s[47]++;if(idx===0){cov_gjn95tcx8().b[4][0]++;cov_gjn95tcx8().s[48]++;return{name:`Control: ${titleConfig.name}`};}else{cov_gjn95tcx8().b[4][1]++;cov_gjn95tcx8().s[49]++;return{name:`Experiment: ${titleConfig.name}`};}});}else{cov_gjn95tcx8().b[3][1]++;}// if passing an explicit plotTitle via cli flag this trumps
// the tbConfig.plotTitle and defaults
cov_gjn95tcx8().s[50]++;if(plotTitle){cov_gjn95tcx8().b[5][0]++;cov_gjn95tcx8().s[51]++;reportTitles.plotTitle=plotTitle;}else{cov_gjn95tcx8().b[5][1]++;}cov_gjn95tcx8().s[52]++;return reportTitles;}cov_gjn95tcx8().s[53]++;exports.resolveTitles=resolveTitles;/**
 * Generate the HTML render data for the cumulative chart. Ensure to convert to
 * milliseconds for presentation
 *
 * @param controlData - Samples of the benchmark of control server
 * @param experimentData - Samples of the benchmark experiment server
 */function buildCumulativeChartData(controlData,experimentData){cov_gjn95tcx8().f[12]++;cov_gjn95tcx8().s[54]++;const cumulativeValueFunc=a=>{cov_gjn95tcx8().f[13]++;cov_gjn95tcx8().s[55]++;return utils_1.convertMicrosecondsToMS(a.start+a.duration);};const valuesByPhaseControl=(cov_gjn95tcx8().s[56]++,bucketPhaseValues(controlData.samples,cumulativeValueFunc));const valuesByPhaseExperiment=(cov_gjn95tcx8().s[57]++,bucketPhaseValues(experimentData.samples,cumulativeValueFunc));const phases=(cov_gjn95tcx8().s[58]++,Object.keys(valuesByPhaseControl).filter(k=>{cov_gjn95tcx8().f[14]++;cov_gjn95tcx8().s[59]++;return k!==exports.PAGE_LOAD_TIME;}));cov_gjn95tcx8().s[60]++;return{categories:JSON.stringify(phases),controlData:JSON.stringify(phases.map(k=>{cov_gjn95tcx8().f[15]++;cov_gjn95tcx8().s[61]++;return valuesByPhaseControl[k];})),experimentData:JSON.stringify(phases.map(k=>{cov_gjn95tcx8().f[16]++;cov_gjn95tcx8().s[62]++;return valuesByPhaseExperiment[k];}))};}cov_gjn95tcx8().s[63]++;exports.buildCumulativeChartData=buildCumulativeChartData;/**
 * Call the stats helper functions to generate the confidence interval and
 * Hodgesâ€“Lehmann estimator. Format the data into HTMLSectionRenderData
 * structure.
 *
 * @param controlValues - Values for the control for the phase
 * @param experimentValues - Values for the experiment for the phase
 * @param phaseName - Name of the phase the values represent
 */function formatPhaseData(controlValues,experimentValues,phaseName){cov_gjn95tcx8().f[17]++;const stats=(cov_gjn95tcx8().s[64]++,new stats_1.Stats({control:controlValues,experiment:experimentValues,name:"output"}));const isNotSignificant=(cov_gjn95tcx8().s[65]++,(cov_gjn95tcx8().b[6][0]++,stats.confidenceInterval.min<0)&&(cov_gjn95tcx8().b[6][1]++,0<stats.confidenceInterval.max)||(cov_gjn95tcx8().b[6][2]++,stats.confidenceInterval.min>0)&&(cov_gjn95tcx8().b[6][3]++,0>stats.confidenceInterval.max)||(cov_gjn95tcx8().b[6][4]++,stats.confidenceInterval.min===0)&&(cov_gjn95tcx8().b[6][5]++,stats.confidenceInterval.max===0));cov_gjn95tcx8().s[66]++;return{phase:phaseName,identifierHash:phaseName,isSignificant:!isNotSignificant,sampleCount:stats.sampleCount.control,ciMin:stats.confidenceInterval.min,ciMax:stats.confidenceInterval.max,hlDiff:stats.estimator,servers:undefined,controlFormatedSamples:JSON.stringify({min:stats.sevenFigureSummary.control.min,q1:stats.sevenFigureSummary.control[25],median:stats.sevenFigureSummary.control[50],q3:stats.sevenFigureSummary.control[75],max:stats.sevenFigureSummary.control.max,outliers:stats.outliers.control.outliers,samplesMS:stats.controlMS}),experimentFormatedSamples:JSON.stringify({min:stats.sevenFigureSummary.experiment.min,q1:stats.sevenFigureSummary.experiment[25],median:stats.sevenFigureSummary.experiment[50],q3:stats.sevenFigureSummary.experiment[75],max:stats.sevenFigureSummary.experiment.max,outliers:stats.outliers.experiment.outliers,samplesMS:stats.experimentMS})};}cov_gjn95tcx8().s[67]++;exports.formatPhaseData=formatPhaseData;/**
 * Prioritize the phase that has the largest difference in regression first.
 */function phaseSorter(a,b){cov_gjn95tcx8().f[18]++;const A_ON_TOP=(cov_gjn95tcx8().s[68]++,-1);const B_ON_TOP=(cov_gjn95tcx8().s[69]++,1);cov_gjn95tcx8().s[70]++;if(a.isSignificant){cov_gjn95tcx8().b[7][0]++;cov_gjn95tcx8().s[71]++;if(!b.isSignificant){cov_gjn95tcx8().b[8][0]++;cov_gjn95tcx8().s[72]++;return A_ON_TOP;}else{cov_gjn95tcx8().b[8][1]++;cov_gjn95tcx8().s[73]++;// If both are significant prefer slowest one
return a.hlDiff-b.hlDiff;}}else{cov_gjn95tcx8().b[7][1]++;}cov_gjn95tcx8().s[74]++;if(b.isSignificant){cov_gjn95tcx8().b[9][0]++;cov_gjn95tcx8().s[75]++;if(!a.isSignificant){cov_gjn95tcx8().b[10][0]++;cov_gjn95tcx8().s[76]++;return B_ON_TOP;}else{cov_gjn95tcx8().b[10][1]++;}}else{cov_gjn95tcx8().b[9][1]++;}cov_gjn95tcx8().s[77]++;return 0;}cov_gjn95tcx8().s[78]++;exports.phaseSorter=phaseSorter;function generateDataForHTML(controlData,experimentData,reportTitles){cov_gjn95tcx8().f[19]++;const valuesByPhaseControl=(cov_gjn95tcx8().s[79]++,bucketPhaseValues(controlData.samples));const valuesByPhaseExperiment=(cov_gjn95tcx8().s[80]++,bucketPhaseValues(experimentData.samples));const subPhases=(cov_gjn95tcx8().s[81]++,Object.keys(valuesByPhaseControl).filter(k=>{cov_gjn95tcx8().f[20]++;cov_gjn95tcx8().s[82]++;return k!==exports.PAGE_LOAD_TIME;}));const durationSection=(cov_gjn95tcx8().s[83]++,formatPhaseData(valuesByPhaseControl[exports.PAGE_LOAD_TIME],valuesByPhaseExperiment[exports.PAGE_LOAD_TIME],exports.PAGE_LOAD_TIME));const subPhaseSections=(cov_gjn95tcx8().s[84]++,subPhases.map(phase=>{cov_gjn95tcx8().f[21]++;const controlValues=(cov_gjn95tcx8().s[85]++,valuesByPhaseControl[phase]);const experimentValues=(cov_gjn95tcx8().s[86]++,valuesByPhaseExperiment[phase]);const renderDataForPhase=(cov_gjn95tcx8().s[87]++,formatPhaseData(controlValues,experimentValues,phase));cov_gjn95tcx8().s[88]++;renderDataForPhase.servers=reportTitles.servers;cov_gjn95tcx8().s[89]++;return renderDataForPhase;}));cov_gjn95tcx8().s[90]++;durationSection.servers=reportTitles.servers;cov_gjn95tcx8().s[91]++;return{durationSection,subPhaseSections};}cov_gjn95tcx8().s[92]++;exports.generateDataForHTML=generateDataForHTML;function createConsumableHTML(controlData,experimentData,tbConfig,plotTitle){cov_gjn95tcx8().f[22]++;const reportTitles=(cov_gjn95tcx8().s[93]++,resolveTitles(tbConfig,controlData.meta.browserVersion,plotTitle));const{durationSection,subPhaseSections}=(cov_gjn95tcx8().s[94]++,generateDataForHTML(controlData,experimentData,reportTitles));const template=(cov_gjn95tcx8().s[95]++,Handlebars.compile(REPORT_TEMPLATE_RAW));cov_gjn95tcx8().s[96]++;return template({cumulativeChartData:buildCumulativeChartData(controlData,experimentData),durationSection,reportTitles,subPhaseSections,configsSJSONString:JSON.stringify(tbConfig,null,4),sectionFormattedDataJson:JSON.stringify(subPhaseSections)});}cov_gjn95tcx8().s[97]++;exports.default=createConsumableHTML;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL21hbHluY2gvRC90cmFjZXJiZW5jaC9wYWNrYWdlcy9jbGkvc3JjL2hlbHBlcnMvY3JlYXRlLWNvbnN1bWFibGUtaHRtbC50cyIsInNvdXJjZXMiOlsiL1VzZXJzL21hbHluY2gvRC90cmFjZXJiZW5jaC9wYWNrYWdlcy9jbGkvc3JjL2hlbHBlcnMvY3JlYXRlLWNvbnN1bWFibGUtaHRtbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1REFBdUQ7QUFDdkQsOENBQTJDO0FBQzNDLHVDQUF3QztBQUN4Qyx5Q0FBeUM7QUFDekMsNkJBQTZCO0FBRzdCLDJFQUFzRTtBQUN0RSxtQ0FBa0Q7QUFrRHJDLFFBQUEsY0FBYyxHQUFHLFVBQVUsQ0FBQztBQUV6QyxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSwrQkFBK0IsQ0FBQyxDQUFDO0FBQzdFLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQzdCLFNBQVMsRUFDVCxzQ0FBc0MsQ0FDdkMsQ0FBQztBQUNGLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLCtCQUErQixDQUFDLENBQUM7QUFDMUUsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUNwQyxTQUFTLEVBQ1Qsb0NBQW9DLENBQ3JDLENBQUM7QUFDRixNQUFNLHNCQUFzQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQ3RDLFNBQVMsRUFDVCxzQ0FBc0MsQ0FDdkMsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUFHLHVCQUFZLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3ZELE1BQU0sUUFBUSxHQUFHLHVCQUFZLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3JELE1BQU0seUJBQXlCLEdBQUcsdUJBQVksQ0FBQyxvQkFBb0IsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM3RSxNQUFNLDJCQUEyQixHQUFHLHVCQUFZLENBQzlD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LGNBQWMsRUFDZCxZQUFZLENBQ2IsQ0FBQztJQUVGLE1BQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUV6RCxPQUFPLFFBQVEsQ0FBQztRQUNkLG1CQUFtQixFQUFFLHdCQUF3QixDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUM7UUFDMUUsZUFBZTtRQUNmLFlBQVk7UUFDWixnQkFBZ0I7UUFDaEIsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNyRCx3QkFBd0IsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDO0tBQzNELENBQUMsQ0FBQztBQUNMLENBQUM7QUEzQkQsdUNBMkJDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuaW1wb3J0IHsgU3RhdHMgfSBmcm9tIFwiQHRyYWNlcmJlbmNoL3N0YXRzXCI7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tIFwiZnMtZXh0cmFcIjtcbmltcG9ydCAqIGFzIEhhbmRsZWJhcnMgZnJvbSBcImhhbmRsZWJhcnNcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcblxuaW1wb3J0IHsgSVRCQ29uZmlnIH0gZnJvbSBcIi4uL2NvbW1hbmQtY29uZmlnXCI7XG5pbXBvcnQgeyBkZWZhdWx0RmxhZ0FyZ3MgfSBmcm9tIFwiLi4vY29tbWFuZC1jb25maWcvZGVmYXVsdC1mbGFnLWFyZ3NcIjtcbmltcG9ydCB7IGNvbnZlcnRNaWNyb3NlY29uZHNUb01TIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBTYW1wbGUge1xuICBkdXJhdGlvbjogbnVtYmVyO1xuICBqczogbnVtYmVyO1xuICBwaGFzZXM6IEFycmF5PHtcbiAgICBwaGFzZTogc3RyaW5nO1xuICAgIHN0YXJ0OiBudW1iZXI7XG4gICAgZHVyYXRpb246IG51bWJlcjtcbiAgfT47XG4gIGdjOiBhbnk7XG4gIGJsaW5rR0M6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJVHJhY2VyQmVuY2hUcmFjZVJlc3VsdCB7XG4gIG1ldGE6IHtcbiAgICBicm93c2VyVmVyc2lvbjogc3RyaW5nO1xuICAgIGNwdXM6IHN0cmluZ1tdO1xuICB9O1xuICBzYW1wbGVzOiBTYW1wbGVbXTtcbiAgc2V0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZvcm1hdGVkU2FtcGxlcyB7XG4gIG1pbjogbnVtYmVyO1xuICBxMTogbnVtYmVyO1xuICBtZWRpYW46IG51bWJlcjtcbiAgcTM6IG51bWJlcjtcbiAgbWF4OiBudW1iZXI7XG4gIG91dGxpZXJzOiBudW1iZXJbXTtcbiAgc2FtcGxlc01TOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBIVE1MU2VjdGlvblJlbmRlckRhdGEge1xuICBpc1NpZ25pZmljYW50OiBib29sZWFuO1xuICBjaU1pbjogbnVtYmVyO1xuICBjaU1heDogbnVtYmVyO1xuICBobERpZmY6IG51bWJlcjtcbiAgcGhhc2U6IHN0cmluZztcbiAgaWRlbnRpZmllckhhc2g6IHN0cmluZztcbiAgc2FtcGxlQ291bnQ6IG51bWJlcjtcbiAgc2VydmVyczogYW55O1xuICBjb250cm9sRm9ybWF0ZWRTYW1wbGVzOiBzdHJpbmc7XG4gIGV4cGVyaW1lbnRGb3JtYXRlZFNhbXBsZXM6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFZhbHVlc0J5UGhhc2Uge1xuICBba2V5OiBzdHJpbmddOiBudW1iZXJbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFBBR0VfTE9BRF9USU1FID0gXCJkdXJhdGlvblwiO1xuXG5jb25zdCBDSEFSVF9DU1NfUEFUSCA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vc3RhdGljL2NoYXJ0LWJvb3RzdHJhcC5jc3NcIik7XG5jb25zdCBDSEFSVF9KU19QQVRIID0gcGF0aC5qb2luKFxuICBfX2Rpcm5hbWUsXG4gIFwiLi4vc3RhdGljL2NoYXJ0anMtMi45LjMtY2hhcnQubWluLmpzXCJcbik7XG5jb25zdCBSRVBPUlRfUEFUSCA9IHBhdGguam9pbihfX2Rpcm5hbWUsIFwiLi4vc3RhdGljL3JlcG9ydC10ZW1wbGF0ZS5oYnNcIik7XG5jb25zdCBQSEFTRV9ERVRBSUxfUEFSVElBTCA9IHBhdGguam9pbihcbiAgX19kaXJuYW1lLFxuICBcIi4uL3N0YXRpYy9waGFzZS1kZXRhaWwtcGFydGlhbC5oYnNcIlxuKTtcbmNvbnN0IFBIQVNFX0NIQVJUX0pTX1BBUlRJQUwgPSBwYXRoLmpvaW4oXG4gIF9fZGlybmFtZSxcbiAgXCIuLi9zdGF0aWMvcGhhc2UtY2hhcnQtanMtcGFydGlhbC5oYnNcIlxuKTtcblxuY29uc3QgQ0hBUlRfQ1NTID0gcmVhZEZpbGVTeW5jKENIQVJUX0NTU19QQVRILCBcInV0ZjhcIik7XG5jb25zdCBDSEFSVF9KUyA9IHJlYWRGaWxlU3luYyhDSEFSVF9KU19QQVRILCBcInV0ZjhcIik7XG5jb25zdCBQSEFTRV9ERVRBSUxfVEVNUExBVEVfUkFXID0gcmVhZEZpbGVTeW5jKFBIQVNFX0RFVEFJTF9QQVJUSUFMLCBcInV0ZjhcIik7XG5jb25zdCBQSEFTRV9DSEFSVF9KU19URU1QTEFURV9SQVcgPSByZWFkRmlsZVN5bmMoXG4gIFBIQVNFX0NIQVJUX0pTX1BBUlRJQUwsXG4gIFwidXRmOFwiXG4pO1xubGV0IFJFUE9SVF9URU1QTEFURV9SQVcgPSByZWFkRmlsZVN5bmMoUkVQT1JUX1BBVEgsIFwidXRmOFwiKTtcblxuUkVQT1JUX1RFTVBMQVRFX1JBVyA9IFJFUE9SVF9URU1QTEFURV9SQVcudG9TdHJpbmcoKVxuICAucmVwbGFjZShcbiAgICBcInt7IS0tIFRSQUNFUkJFTkNILUNIQVJULUJPT1RTVFJBUC5DU1MgLS19fVwiLFxuICAgIGA8c3R5bGU+JHtDSEFSVF9DU1N9PC9zdHlsZT5gXG4gIClcbiAgLnJlcGxhY2UoXCJ7eyEtLSBUUkFDRVJCRU5DSC1DSEFSVC1KUyAtLX19XCIsIGA8c2NyaXB0PiR7Q0hBUlRfSlN9PC9zY3JpcHQ+YCk7XG5cbkhhbmRsZWJhcnMucmVnaXN0ZXJQYXJ0aWFsKFwicGhhc2VDaGFydEpTU2VjdGlvblwiLCBQSEFTRV9DSEFSVF9KU19URU1QTEFURV9SQVcpO1xuSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwoXCJwaGFzZURldGFpbFNlY3Rpb25cIiwgUEhBU0VfREVUQUlMX1RFTVBMQVRFX1JBVyk7XG4vKipcbiAqIENhbWVsIGNhc2UgaGVscGVyXG4gKi9cbkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJ0b0NhbWVsXCIsICh2YWwpID0+IHtcbiAgcmV0dXJuIHZhbC5yZXBsYWNlKC8tKFthLXpdKS9nLCAoZzogc3RyaW5nKSA9PiBnWzFdLnRvVXBwZXJDYXNlKCkpO1xufSk7XG5cbi8qKlxuICogTmVnYXRpdmUgbWVhbnMgc2xvd2VyXG4gKi9cbkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJpc0Zhc3RlclwiLCAoYW5hbHlzaXMpID0+IHtcbiAgcmV0dXJuIGFuYWx5c2lzLmhsRGlmZiA+IDA7XG59KTtcblxuLyoqXG4gKiBBYnNvbHV0ZSBudW1iZXIgaGVscGVyXG4gKi9cbkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJhYnNcIiwgKG51bSkgPT4ge1xuICByZXR1cm4gTWF0aC5hYnMobnVtKTtcbn0pO1xuXG4vKipcbiAqIFNvcnQgdGhlIGdpdmVuIG51bWJlcnMgYnkgdGhlaXIgYWJzb2x1dGUgdmFsdWVzXG4gKi9cbkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJhYnNTb3J0XCIsIChudW0xLCBudW0yLCBwb3NpdGlvbikgPT4ge1xuICBjb25zdCBzb3J0ZWQgPSBbTWF0aC5hYnMobnVtMSksIE1hdGguYWJzKG51bTIpXTtcbiAgc29ydGVkLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgcmV0dXJuIHNvcnRlZFtwb3NpdGlvbl07XG59KTtcblxuLyoqXG4gKiBFeHRyYWN0IHRoZSBwaGFzZXMgYW5kIHBhZ2UgbG9hZCB0aW1lIGxhdGVuY3kgaW50byBzb3J0ZWQgYnVja2V0cyBieSBwaGFzZVxuICpcbiAqIEBwYXJhbSBzYW1wbGVzIC0gQXJyYXkgb2YgXCJzYW1wbGVcIiBvYmplY3RzXG4gKiBAcGFyYW0gdmFsdWVHZW4gLSBDYWxscyB0aGlzIGZ1bmN0aW9uIHRvIGV4dHJhY3QgdGhlIHZhbHVlIGZyb20gdGhlIHBoYXNlLiBBXG4gKiAgIFwicGhhc2VcIiBpcyBwYXNzZWQgY29udGFpbmluZyBkdXJhdGlvbiBhbmQgc3RhcnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1Y2tldFBoYXNlVmFsdWVzKFxuICBzYW1wbGVzOiBTYW1wbGVbXSxcbiAgdmFsdWVHZW46IGFueSA9IChhOiBhbnkpID0+IGEuZHVyYXRpb25cbik6IFZhbHVlc0J5UGhhc2Uge1xuICBjb25zdCBidWNrZXRzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlcltdIH0gPSB7IFtQQUdFX0xPQURfVElNRV06IFtdIH07XG5cbiAgc2FtcGxlcy5mb3JFYWNoKChzYW1wbGU6IFNhbXBsZSkgPT4ge1xuICAgIGJ1Y2tldHNbUEFHRV9MT0FEX1RJTUVdLnB1c2goc2FtcGxlW1BBR0VfTE9BRF9USU1FXSk7XG5cbiAgICBzYW1wbGUucGhhc2VzLmZvckVhY2goKHBoYXNlRGF0YSkgPT4ge1xuICAgICAgY29uc3QgYnVja2V0ID0gYnVja2V0c1twaGFzZURhdGEucGhhc2VdIHx8IFtdO1xuICAgICAgYnVja2V0LnB1c2godmFsdWVHZW4ocGhhc2VEYXRhKSk7XG4gICAgICBidWNrZXRzW3BoYXNlRGF0YS5waGFzZV0gPSBidWNrZXQ7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBidWNrZXRzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcnNlZFRpdGxlQ29uZmlncyB7XG4gIHNlcnZlcnM6IEFycmF5PHsgbmFtZTogc3RyaW5nIH0+O1xuICBwbG90VGl0bGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgYnJvd3NlclZlcnNpb246IHN0cmluZztcbn1cblxuLyoqXG4gKiBPdmVycmlkZSB0aGUgZGVmYXVsdCBzZXJ2ZXIgYW5kIHBsb3QgdGl0bGUgYXR0cmlidXRlc1xuICpcbiAqIEBwYXJhbSB0YkNvbmZpZyAtIENvbmNlcm5lZCBvbmx5IGFib3V0IHRoZSBcInNlcnZlcnNcIiBhbmQgXCJwbG90VGl0bGVcIlxuICogICBhdHRyaWJ1dGVcbiAqIEBwYXJhbSB2ZXJzaW9uIC0gQnJvd3NlciB2ZXJzaW9uXG4gKiBAcGFyYW0gcGxvdFRpdGxlIC0gT3B0aW9uYWwgZXhwbGljaXQgdGl0bGUgZnJvbSBjbGkgZmxhZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVRpdGxlcyhcbiAgdGJDb25maWc6IFBhcnRpYWw8SVRCQ29uZmlnPixcbiAgdmVyc2lvbjogc3RyaW5nLFxuICBwbG90VGl0bGU/OiBzdHJpbmdcbik6IFBhcnNlZFRpdGxlQ29uZmlncyB7XG4gIGNvbnN0IHJlcG9ydFRpdGxlcyA9IHtcbiAgICBzZXJ2ZXJzOiBbeyBuYW1lOiBcIkNvbnRyb2xcIiB9LCB7IG5hbWU6IFwiRXhwZXJpbWVudFwiIH1dLFxuICAgIHBsb3RUaXRsZTogdGJDb25maWcucGxvdFRpdGxlXG4gICAgICA/IHRiQ29uZmlnLnBsb3RUaXRsZVxuICAgICAgOiBkZWZhdWx0RmxhZ0FyZ3MucGxvdFRpdGxlLFxuICAgIGJyb3dzZXJWZXJzaW9uOiB2ZXJzaW9uLFxuICB9O1xuXG4gIGlmICh0YkNvbmZpZy5zZXJ2ZXJzKSB7XG4gICAgcmVwb3J0VGl0bGVzLnNlcnZlcnMgPSB0YkNvbmZpZy5zZXJ2ZXJzLm1hcCgodGl0bGVDb25maWcsIGlkeCkgPT4ge1xuICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICByZXR1cm4geyBuYW1lOiBgQ29udHJvbDogJHt0aXRsZUNvbmZpZy5uYW1lfWAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IG5hbWU6IGBFeHBlcmltZW50OiAke3RpdGxlQ29uZmlnLm5hbWV9YCB9O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gaWYgcGFzc2luZyBhbiBleHBsaWNpdCBwbG90VGl0bGUgdmlhIGNsaSBmbGFnIHRoaXMgdHJ1bXBzXG4gIC8vIHRoZSB0YkNvbmZpZy5wbG90VGl0bGUgYW5kIGRlZmF1bHRzXG4gIGlmIChwbG90VGl0bGUpIHtcbiAgICByZXBvcnRUaXRsZXMucGxvdFRpdGxlID0gcGxvdFRpdGxlO1xuICB9XG5cbiAgcmV0dXJuIHJlcG9ydFRpdGxlcztcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSB0aGUgSFRNTCByZW5kZXIgZGF0YSBmb3IgdGhlIGN1bXVsYXRpdmUgY2hhcnQuIEVuc3VyZSB0byBjb252ZXJ0IHRvXG4gKiBtaWxsaXNlY29uZHMgZm9yIHByZXNlbnRhdGlvblxuICpcbiAqIEBwYXJhbSBjb250cm9sRGF0YSAtIFNhbXBsZXMgb2YgdGhlIGJlbmNobWFyayBvZiBjb250cm9sIHNlcnZlclxuICogQHBhcmFtIGV4cGVyaW1lbnREYXRhIC0gU2FtcGxlcyBvZiB0aGUgYmVuY2htYXJrIGV4cGVyaW1lbnQgc2VydmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWlsZEN1bXVsYXRpdmVDaGFydERhdGEoXG4gIGNvbnRyb2xEYXRhOiBJVHJhY2VyQmVuY2hUcmFjZVJlc3VsdCxcbiAgZXhwZXJpbWVudERhdGE6IElUcmFjZXJCZW5jaFRyYWNlUmVzdWx0XG4pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgY29uc3QgY3VtdWxhdGl2ZVZhbHVlRnVuYyA9IChhOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9KTogbnVtYmVyID0+XG4gICAgY29udmVydE1pY3Jvc2Vjb25kc1RvTVMoYS5zdGFydCArIGEuZHVyYXRpb24pO1xuXG4gIGNvbnN0IHZhbHVlc0J5UGhhc2VDb250cm9sID0gYnVja2V0UGhhc2VWYWx1ZXMoXG4gICAgY29udHJvbERhdGEuc2FtcGxlcyxcbiAgICBjdW11bGF0aXZlVmFsdWVGdW5jXG4gICk7XG4gIGNvbnN0IHZhbHVlc0J5UGhhc2VFeHBlcmltZW50ID0gYnVja2V0UGhhc2VWYWx1ZXMoXG4gICAgZXhwZXJpbWVudERhdGEuc2FtcGxlcyxcbiAgICBjdW11bGF0aXZlVmFsdWVGdW5jXG4gICk7XG4gIGNvbnN0IHBoYXNlcyA9IE9iamVjdC5rZXlzKHZhbHVlc0J5UGhhc2VDb250cm9sKS5maWx0ZXIoXG4gICAgKGspID0+IGsgIT09IFBBR0VfTE9BRF9USU1FXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBjYXRlZ29yaWVzOiBKU09OLnN0cmluZ2lmeShwaGFzZXMpLFxuICAgIGNvbnRyb2xEYXRhOiBKU09OLnN0cmluZ2lmeShwaGFzZXMubWFwKChrKSA9PiB2YWx1ZXNCeVBoYXNlQ29udHJvbFtrXSkpLFxuICAgIGV4cGVyaW1lbnREYXRhOiBKU09OLnN0cmluZ2lmeShcbiAgICAgIHBoYXNlcy5tYXAoKGspID0+IHZhbHVlc0J5UGhhc2VFeHBlcmltZW50W2tdKVxuICAgICksXG4gIH07XG59XG5cbi8qKlxuICogQ2FsbCB0aGUgc3RhdHMgaGVscGVyIGZ1bmN0aW9ucyB0byBnZW5lcmF0ZSB0aGUgY29uZmlkZW5jZSBpbnRlcnZhbCBhbmRcbiAqIEhvZGdlc+KAk0xlaG1hbm4gZXN0aW1hdG9yLiBGb3JtYXQgdGhlIGRhdGEgaW50byBIVE1MU2VjdGlvblJlbmRlckRhdGFcbiAqIHN0cnVjdHVyZS5cbiAqXG4gKiBAcGFyYW0gY29udHJvbFZhbHVlcyAtIFZhbHVlcyBmb3IgdGhlIGNvbnRyb2wgZm9yIHRoZSBwaGFzZVxuICogQHBhcmFtIGV4cGVyaW1lbnRWYWx1ZXMgLSBWYWx1ZXMgZm9yIHRoZSBleHBlcmltZW50IGZvciB0aGUgcGhhc2VcbiAqIEBwYXJhbSBwaGFzZU5hbWUgLSBOYW1lIG9mIHRoZSBwaGFzZSB0aGUgdmFsdWVzIHJlcHJlc2VudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UGhhc2VEYXRhKFxuICBjb250cm9sVmFsdWVzOiBudW1iZXJbXSxcbiAgZXhwZXJpbWVudFZhbHVlczogbnVtYmVyW10sXG4gIHBoYXNlTmFtZTogc3RyaW5nXG4pOiBIVE1MU2VjdGlvblJlbmRlckRhdGEge1xuICBjb25zdCBzdGF0cyA9IG5ldyBTdGF0cyh7XG4gICAgY29udHJvbDogY29udHJvbFZhbHVlcyxcbiAgICBleHBlcmltZW50OiBleHBlcmltZW50VmFsdWVzLFxuICAgIG5hbWU6IFwib3V0cHV0XCIsXG4gIH0pO1xuICBjb25zdCBpc05vdFNpZ25pZmljYW50ID1cbiAgICAoc3RhdHMuY29uZmlkZW5jZUludGVydmFsLm1pbiA8IDAgJiYgMCA8IHN0YXRzLmNvbmZpZGVuY2VJbnRlcnZhbC5tYXgpIHx8XG4gICAgKHN0YXRzLmNvbmZpZGVuY2VJbnRlcnZhbC5taW4gPiAwICYmIDAgPiBzdGF0cy5jb25maWRlbmNlSW50ZXJ2YWwubWF4KSB8fFxuICAgIChzdGF0cy5jb25maWRlbmNlSW50ZXJ2YWwubWluID09PSAwICYmIHN0YXRzLmNvbmZpZGVuY2VJbnRlcnZhbC5tYXggPT09IDApO1xuXG4gIHJldHVybiB7XG4gICAgcGhhc2U6IHBoYXNlTmFtZSxcbiAgICBpZGVudGlmaWVySGFzaDogcGhhc2VOYW1lLFxuICAgIGlzU2lnbmlmaWNhbnQ6ICFpc05vdFNpZ25pZmljYW50LFxuICAgIHNhbXBsZUNvdW50OiBzdGF0cy5zYW1wbGVDb3VudC5jb250cm9sLFxuICAgIGNpTWluOiBzdGF0cy5jb25maWRlbmNlSW50ZXJ2YWwubWluLFxuICAgIGNpTWF4OiBzdGF0cy5jb25maWRlbmNlSW50ZXJ2YWwubWF4LFxuICAgIGhsRGlmZjogc3RhdHMuZXN0aW1hdG9yLFxuICAgIHNlcnZlcnM6IHVuZGVmaW5lZCxcbiAgICBjb250cm9sRm9ybWF0ZWRTYW1wbGVzOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBtaW46IHN0YXRzLnNldmVuRmlndXJlU3VtbWFyeS5jb250cm9sLm1pbixcbiAgICAgIHExOiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuY29udHJvbFsyNV0sXG4gICAgICBtZWRpYW46IHN0YXRzLnNldmVuRmlndXJlU3VtbWFyeS5jb250cm9sWzUwXSxcbiAgICAgIHEzOiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuY29udHJvbFs3NV0sXG4gICAgICBtYXg6IHN0YXRzLnNldmVuRmlndXJlU3VtbWFyeS5jb250cm9sLm1heCxcbiAgICAgIG91dGxpZXJzOiBzdGF0cy5vdXRsaWVycy5jb250cm9sLm91dGxpZXJzLFxuICAgICAgc2FtcGxlc01TOiBzdGF0cy5jb250cm9sTVMsXG4gICAgfSksXG4gICAgZXhwZXJpbWVudEZvcm1hdGVkU2FtcGxlczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbWluOiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuZXhwZXJpbWVudC5taW4sXG4gICAgICBxMTogc3RhdHMuc2V2ZW5GaWd1cmVTdW1tYXJ5LmV4cGVyaW1lbnRbMjVdLFxuICAgICAgbWVkaWFuOiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuZXhwZXJpbWVudFs1MF0sXG4gICAgICBxMzogc3RhdHMuc2V2ZW5GaWd1cmVTdW1tYXJ5LmV4cGVyaW1lbnRbNzVdLFxuICAgICAgbWF4OiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuZXhwZXJpbWVudC5tYXgsXG4gICAgICBvdXRsaWVyczogc3RhdHMub3V0bGllcnMuZXhwZXJpbWVudC5vdXRsaWVycyxcbiAgICAgIHNhbXBsZXNNUzogc3RhdHMuZXhwZXJpbWVudE1TLFxuICAgIH0pLFxuICB9O1xufVxuXG4vKipcbiAqIFByaW9yaXRpemUgdGhlIHBoYXNlIHRoYXQgaGFzIHRoZSBsYXJnZXN0IGRpZmZlcmVuY2UgaW4gcmVncmVzc2lvbiBmaXJzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBoYXNlU29ydGVyKFxuICBhOiBIVE1MU2VjdGlvblJlbmRlckRhdGEsXG4gIGI6IEhUTUxTZWN0aW9uUmVuZGVyRGF0YVxuKTogbnVtYmVyIHtcbiAgY29uc3QgQV9PTl9UT1AgPSAtMTtcbiAgY29uc3QgQl9PTl9UT1AgPSAxO1xuXG4gIGlmIChhLmlzU2lnbmlmaWNhbnQpIHtcbiAgICBpZiAoIWIuaXNTaWduaWZpY2FudCkge1xuICAgICAgcmV0dXJuIEFfT05fVE9QO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBib3RoIGFyZSBzaWduaWZpY2FudCBwcmVmZXIgc2xvd2VzdCBvbmVcbiAgICAgIHJldHVybiBhLmhsRGlmZiAtIGIuaGxEaWZmO1xuICAgIH1cbiAgfVxuXG4gIGlmIChiLmlzU2lnbmlmaWNhbnQpIHtcbiAgICBpZiAoIWEuaXNTaWduaWZpY2FudCkge1xuICAgICAgcmV0dXJuIEJfT05fVE9QO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVEYXRhRm9ySFRNTChcbiAgY29udHJvbERhdGE6IElUcmFjZXJCZW5jaFRyYWNlUmVzdWx0LFxuICBleHBlcmltZW50RGF0YTogSVRyYWNlckJlbmNoVHJhY2VSZXN1bHQsXG4gIHJlcG9ydFRpdGxlczogUGFyc2VkVGl0bGVDb25maWdzXG4pOiB7XG4gIGR1cmF0aW9uU2VjdGlvbjogSFRNTFNlY3Rpb25SZW5kZXJEYXRhO1xuICBzdWJQaGFzZVNlY3Rpb25zOiBIVE1MU2VjdGlvblJlbmRlckRhdGFbXTtcbn0ge1xuICBjb25zdCB2YWx1ZXNCeVBoYXNlQ29udHJvbCA9IGJ1Y2tldFBoYXNlVmFsdWVzKGNvbnRyb2xEYXRhLnNhbXBsZXMpO1xuICBjb25zdCB2YWx1ZXNCeVBoYXNlRXhwZXJpbWVudCA9IGJ1Y2tldFBoYXNlVmFsdWVzKGV4cGVyaW1lbnREYXRhLnNhbXBsZXMpO1xuICBjb25zdCBzdWJQaGFzZXMgPSBPYmplY3Qua2V5cyh2YWx1ZXNCeVBoYXNlQ29udHJvbCkuZmlsdGVyKFxuICAgIChrKSA9PiBrICE9PSBQQUdFX0xPQURfVElNRVxuICApO1xuXG4gIGNvbnN0IGR1cmF0aW9uU2VjdGlvbiA9IGZvcm1hdFBoYXNlRGF0YShcbiAgICB2YWx1ZXNCeVBoYXNlQ29udHJvbFtQQUdFX0xPQURfVElNRV0sXG4gICAgdmFsdWVzQnlQaGFzZUV4cGVyaW1lbnRbUEFHRV9MT0FEX1RJTUVdLFxuICAgIFBBR0VfTE9BRF9USU1FXG4gICk7XG5cbiAgY29uc3Qgc3ViUGhhc2VTZWN0aW9uczogSFRNTFNlY3Rpb25SZW5kZXJEYXRhW10gPSBzdWJQaGFzZXMubWFwKChwaGFzZSkgPT4ge1xuICAgIGNvbnN0IGNvbnRyb2xWYWx1ZXMgPSB2YWx1ZXNCeVBoYXNlQ29udHJvbFtwaGFzZV07XG4gICAgY29uc3QgZXhwZXJpbWVudFZhbHVlcyA9IHZhbHVlc0J5UGhhc2VFeHBlcmltZW50W3BoYXNlXTtcbiAgICBjb25zdCByZW5kZXJEYXRhRm9yUGhhc2UgPSBmb3JtYXRQaGFzZURhdGEoXG4gICAgICBjb250cm9sVmFsdWVzLFxuICAgICAgZXhwZXJpbWVudFZhbHVlcyxcbiAgICAgIHBoYXNlXG4gICAgKTtcblxuICAgIHJlbmRlckRhdGFGb3JQaGFzZS5zZXJ2ZXJzID0gcmVwb3J0VGl0bGVzLnNlcnZlcnM7XG4gICAgcmV0dXJuIHJlbmRlckRhdGFGb3JQaGFzZSBhcyBIVE1MU2VjdGlvblJlbmRlckRhdGE7XG4gIH0pO1xuXG4gIGR1cmF0aW9uU2VjdGlvbi5zZXJ2ZXJzID0gcmVwb3J0VGl0bGVzLnNlcnZlcnM7XG4gIHJldHVybiB7IGR1cmF0aW9uU2VjdGlvbiwgc3ViUGhhc2VTZWN0aW9ucyB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVDb25zdW1hYmxlSFRNTChcbiAgY29udHJvbERhdGE6IElUcmFjZXJCZW5jaFRyYWNlUmVzdWx0LFxuICBleHBlcmltZW50RGF0YTogSVRyYWNlckJlbmNoVHJhY2VSZXN1bHQsXG4gIHRiQ29uZmlnOiBJVEJDb25maWcsXG4gIHBsb3RUaXRsZT86IHN0cmluZ1xuKTogc3RyaW5nIHtcbiAgY29uc3QgcmVwb3J0VGl0bGVzID0gcmVzb2x2ZVRpdGxlcyhcbiAgICB0YkNvbmZpZyxcbiAgICBjb250cm9sRGF0YS5tZXRhLmJyb3dzZXJWZXJzaW9uLFxuICAgIHBsb3RUaXRsZVxuICApO1xuICBjb25zdCB7IGR1cmF0aW9uU2VjdGlvbiwgc3ViUGhhc2VTZWN0aW9ucyB9ID0gZ2VuZXJhdGVEYXRhRm9ySFRNTChcbiAgICBjb250cm9sRGF0YSxcbiAgICBleHBlcmltZW50RGF0YSxcbiAgICByZXBvcnRUaXRsZXNcbiAgKTtcblxuICBjb25zdCB0ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShSRVBPUlRfVEVNUExBVEVfUkFXKTtcblxuICByZXR1cm4gdGVtcGxhdGUoe1xuICAgIGN1bXVsYXRpdmVDaGFydERhdGE6IGJ1aWxkQ3VtdWxhdGl2ZUNoYXJ0RGF0YShjb250cm9sRGF0YSwgZXhwZXJpbWVudERhdGEpLFxuICAgIGR1cmF0aW9uU2VjdGlvbixcbiAgICByZXBvcnRUaXRsZXMsXG4gICAgc3ViUGhhc2VTZWN0aW9ucyxcbiAgICBjb25maWdzU0pTT05TdHJpbmc6IEpTT04uc3RyaW5naWZ5KHRiQ29uZmlnLCBudWxsLCA0KSxcbiAgICBzZWN0aW9uRm9ybWF0dGVkRGF0YUpzb246IEpTT04uc3RyaW5naWZ5KHN1YlBoYXNlU2VjdGlvbnMpLFxuICB9KTtcbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWx5bmNoL0QvdHJhY2VyYmVuY2gvcGFja2FnZXMvY2xpL3NyYy9oZWxwZXJzL2NyZWF0ZS1jb25zdW1hYmxlLWh0bWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Im0xOUJBc0VNO3VYQXRFTix1REFDQSxLQUFBLENBQUEsT0FBQSx5QkFBQSxPQUFBLENBQUEsb0JBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLFVBQUEseUJBQUEsT0FBQSxDQUFBLFVBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLFVBQUEseUJBQUEsT0FBQSxDQUFBLFlBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLElBQUEseUJBQUEsT0FBQSxDQUFBLE1BQUEsQ0FBQSxDQUFBLENBR0EsS0FBQSxDQUFBLG1CQUFBLHlCQUFBLE9BQUEsQ0FBQSxxQ0FBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsT0FBQSx5QkFBQSxPQUFBLENBQUEsU0FBQSxDQUFBLENBQUEsQyx1QkFrRGEsT0FBQSxDQUFBLGNBQUEsQ0FBaUIsVUFBakIsQ0FFYixLQUFNLENBQUEsY0FBYyx5QkFBRyxJQUFJLENBQUMsSUFBTCxDQUFVLFNBQVYsQ0FBcUIsK0JBQXJCLENBQUgsQ0FBcEIsQ0FDQSxLQUFNLENBQUEsYUFBYSwwQkFBRyxJQUFJLENBQUMsSUFBTCxDQUNwQixTQURvQixDQUVwQixzQ0FGb0IsQ0FBSCxDQUFuQixDQUlBLEtBQU0sQ0FBQSxXQUFXLDBCQUFHLElBQUksQ0FBQyxJQUFMLENBQVUsU0FBVixDQUFxQiwrQkFBckIsQ0FBSCxDQUFqQixDQUNBLEtBQU0sQ0FBQSxvQkFBb0IsMEJBQUcsSUFBSSxDQUFDLElBQUwsQ0FDM0IsU0FEMkIsQ0FFM0Isb0NBRjJCLENBQUgsQ0FBMUIsQ0FJQSxLQUFNLENBQUEsc0JBQXNCLDBCQUFHLElBQUksQ0FBQyxJQUFMLENBQzdCLFNBRDZCLENBRTdCLHNDQUY2QixDQUFILENBQTVCLENBS0EsS0FBTSxDQUFBLFNBQVMsMEJB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RWQsZUFGYyxDQUdkLFlBSGMsQ0FJZCxnQkFKYyxDQUtkLGtCQUFrQixDQUFFLElBQUksQ0FBQyxTQUFMLENBQWUsUUFBZixDQUF5QixJQUF6QixDQUErQixDQUEvQixDQUxOLENBTWQsd0JBQXdCLENBQUUsSUFBSSxDQUFDLFNBQUwsQ0FBZSxnQkFBZixDQU5aLENBQUQsQ0FBZixDQVFELEMsd0JBM0JELE9BQUEsQ0FBQSxPQUFBLENBQUEsb0JBQUEsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IFN0YXRzIH0gZnJvbSBcIkB0cmFjZXJiZW5jaC9zdGF0c1wiO1xuaW1wb3J0IHsgcmVhZEZpbGVTeW5jIH0gZnJvbSBcImZzLWV4dHJhXCI7XG5pbXBvcnQgKiBhcyBIYW5kbGViYXJzIGZyb20gXCJoYW5kbGViYXJzXCI7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmltcG9ydCB7IElUQkNvbmZpZyB9IGZyb20gXCIuLi9jb21tYW5kLWNvbmZpZ1wiO1xuaW1wb3J0IHsgZGVmYXVsdEZsYWdBcmdzIH0gZnJvbSBcIi4uL2NvbW1hbmQtY29uZmlnL2RlZmF1bHQtZmxhZy1hcmdzXCI7XG5pbXBvcnQgeyBjb252ZXJ0TWljcm9zZWNvbmRzVG9NUyB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2FtcGxlIHtcbiAgZHVyYXRpb246IG51bWJlcjtcbiAganM6IG51bWJlcjtcbiAgcGhhc2VzOiBBcnJheTx7XG4gICAgcGhhc2U6IHN0cmluZztcbiAgICBzdGFydDogbnVtYmVyO1xuICAgIGR1cmF0aW9uOiBudW1iZXI7XG4gIH0+O1xuICBnYzogYW55O1xuICBibGlua0dDOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRyYWNlckJlbmNoVHJhY2VSZXN1bHQge1xuICBtZXRhOiB7XG4gICAgYnJvd3NlclZlcnNpb246IHN0cmluZztcbiAgICBjcHVzOiBzdHJpbmdbXTtcbiAgfTtcbiAgc2FtcGxlczogU2FtcGxlW107XG4gIHNldDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGb3JtYXRlZFNhbXBsZXMge1xuICBtaW46IG51bWJlcjtcbiAgcTE6IG51bWJlcjtcbiAgbWVkaWFuOiBudW1iZXI7XG4gIHEzOiBudW1iZXI7XG4gIG1heDogbnVtYmVyO1xuICBvdXRsaWVyczogbnVtYmVyW107XG4gIHNhbXBsZXNNUzogbnVtYmVyW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSFRNTFNlY3Rpb25SZW5kZXJEYXRhIHtcbiAgaXNTaWduaWZpY2FudDogYm9vbGVhbjtcbiAgY2lNaW46IG51bWJlcjtcbiAgY2lNYXg6IG51bWJlcjtcbiAgaGxEaWZmOiBudW1iZXI7XG4gIHBoYXNlOiBzdHJpbmc7XG4gIGlkZW50aWZpZXJIYXNoOiBzdHJpbmc7XG4gIHNhbXBsZUNvdW50OiBudW1iZXI7XG4gIHNlcnZlcnM6IGFueTtcbiAgY29udHJvbEZvcm1hdGVkU2FtcGxlczogc3RyaW5nO1xuICBleHBlcmltZW50Rm9ybWF0ZWRTYW1wbGVzOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBWYWx1ZXNCeVBoYXNlIHtcbiAgW2tleTogc3RyaW5nXTogbnVtYmVyW107XG59XG5cbmV4cG9ydCBjb25zdCBQQUdFX0xPQURfVElNRSA9IFwiZHVyYXRpb25cIjtcblxuY29uc3QgQ0hBUlRfQ1NTX1BBVEggPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uL3N0YXRpYy9jaGFydC1ib290c3RyYXAuY3NzXCIpO1xuY29uc3QgQ0hBUlRfSlNfUEFUSCA9IHBhdGguam9pbihcbiAgX19kaXJuYW1lLFxuICBcIi4uL3N0YXRpYy9jaGFydGpzLTIuOS4zLWNoYXJ0Lm1pbi5qc1wiXG4pO1xuY29uc3QgUkVQT1JUX1BBVEggPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uL3N0YXRpYy9yZXBvcnQtdGVtcGxhdGUuaGJzXCIpO1xuY29uc3QgUEhBU0VfREVUQUlMX1BBUlRJQUwgPSBwYXRoLmpvaW4oXG4gIF9fZGlybmFtZSxcbiAgXCIuLi9zdGF0aWMvcGhhc2UtZGV0YWlsLXBhcnRpYWwuaGJzXCJcbik7XG5jb25zdCBQSEFTRV9DSEFSVF9KU19QQVJUSUFMID0gcGF0aC5qb2luKFxuICBfX2Rpcm5hbWUsXG4gIFwiLi4vc3RhdGljL3BoYXNlLWNoYXJ0LWpzLXBhcnRpYWwuaGJzXCJcbik7XG5cbmNvbnN0IENIQVJUX0NTUyA9IHJlYWRGaWxlU3luYyhDSEFSVF9DU1NfUEFUSCwgXCJ1dGY4XCIpO1xuY29uc3QgQ0hBUlRfSlMgPSByZWFkRmlsZVN5bmMoQ0hBUlRfSlNfUEFUSCwgXCJ1dGY4XCIpO1xuY29uc3QgUEhBU0VfREVUQUlMX1RFTVBMQVRFX1JBVyA9IHJlYWRGaWxlU3luYyhQSEFTRV9ERVRBSUxfUEFSVElBTCwgXCJ1dGY4XCIpO1xuY29uc3QgUEhBU0VfQ0hBUlRfSlNfVEVNUExBVEVfUkFXID0gcmVhZEZpbGVTeW5jKFxuICBQSEFTRV9DSEFSVF9KU19QQVJUSUFMLFxuICBcInV0ZjhcIlxuKTtcbmxldCBSRVBPUlRfVEVNUExBVEVfUkFXID0gcmVhZEZpbGVTeW5jKFJFUE9SVF9QQVRILCBcInV0ZjhcIik7XG5cblJFUE9SVF9URU1QTEFURV9SQVcgPSBSRVBPUlRfVEVNUExBVEVfUkFXLnRvU3RyaW5nKClcbiAgLnJlcGxhY2UoXG4gICAgXCJ7eyEtLSBUUkFDRVJCRU5DSC1DSEFSVC1CT09UU1RSQVAuQ1NTIC0tfX1cIixcbiAgICBgPHN0eWxlPiR7Q0hBUlRfQ1NTfTwvc3R5bGU+YFxuICApXG4gIC5yZXBsYWNlKFwie3shLS0gVFJBQ0VSQkVOQ0gtQ0hBUlQtSlMgLS19fVwiLCBgPHNjcmlwdD4ke0NIQVJUX0pTfTwvc2NyaXB0PmApO1xuXG5IYW5kbGViYXJzLnJlZ2lzdGVyUGFydGlhbChcInBoYXNlQ2hhcnRKU1NlY3Rpb25cIiwgUEhBU0VfQ0hBUlRfSlNfVEVNUExBVEVfUkFXKTtcbkhhbmRsZWJhcnMucmVnaXN0ZXJQYXJ0aWFsKFwicGhhc2VEZXRhaWxTZWN0aW9uXCIsIFBIQVNFX0RFVEFJTF9URU1QTEFURV9SQVcpO1xuLyoqXG4gKiBDYW1lbCBjYXNlIGhlbHBlclxuICovXG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwidG9DYW1lbFwiLCAodmFsKSA9PiB7XG4gIHJldHVybiB2YWwucmVwbGFjZSgvLShbYS16XSkvZywgKGc6IHN0cmluZykgPT4gZ1sxXS50b1VwcGVyQ2FzZSgpKTtcbn0pO1xuXG4vKipcbiAqIE5lZ2F0aXZlIG1lYW5zIHNsb3dlclxuICovXG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwiaXNGYXN0ZXJcIiwgKGFuYWx5c2lzKSA9PiB7XG4gIHJldHVybiBhbmFseXNpcy5obERpZmYgPiAwO1xufSk7XG5cbi8qKlxuICogQWJzb2x1dGUgbnVtYmVyIGhlbHBlclxuICovXG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwiYWJzXCIsIChudW0pID0+IHtcbiAgcmV0dXJuIE1hdGguYWJzKG51bSk7XG59KTtcblxuLyoqXG4gKiBTb3J0IHRoZSBnaXZlbiBudW1iZXJzIGJ5IHRoZWlyIGFic29sdXRlIHZhbHVlc1xuICovXG5IYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwiYWJzU29ydFwiLCAobnVtMSwgbnVtMiwgcG9zaXRpb24pID0+IHtcbiAgY29uc3Qgc29ydGVkID0gW01hdGguYWJzKG51bTEpLCBNYXRoLmFicyhudW0yKV07XG4gIHNvcnRlZC5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gIHJldHVybiBzb3J0ZWRbcG9zaXRpb25dO1xufSk7XG5cbi8qKlxuICogRXh0cmFjdCB0aGUgcGhhc2VzIGFuZCBwYWdlIGxvYWQgdGltZSBsYXRlbmN5IGludG8gc29ydGVkIGJ1Y2tldHMgYnkgcGhhc2VcbiAqXG4gKiBAcGFyYW0gc2FtcGxlcyAtIEFycmF5IG9mIFwic2FtcGxlXCIgb2JqZWN0c1xuICogQHBhcmFtIHZhbHVlR2VuIC0gQ2FsbHMgdGhpcyBmdW5jdGlvbiB0byBleHRyYWN0IHRoZSB2YWx1ZSBmcm9tIHRoZSBwaGFzZS4gQVxuICogICBcInBoYXNlXCIgaXMgcGFzc2VkIGNvbnRhaW5pbmcgZHVyYXRpb24gYW5kIHN0YXJ0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWNrZXRQaGFzZVZhbHVlcyhcbiAgc2FtcGxlczogU2FtcGxlW10sXG4gIHZhbHVlR2VuOiBhbnkgPSAoYTogYW55KSA9PiBhLmR1cmF0aW9uXG4pOiBWYWx1ZXNCeVBoYXNlIHtcbiAgY29uc3QgYnVja2V0czogeyBba2V5OiBzdHJpbmddOiBudW1iZXJbXSB9ID0geyBbUEFHRV9MT0FEX1RJTUVdOiBbXSB9O1xuXG4gIHNhbXBsZXMuZm9yRWFjaCgoc2FtcGxlOiBTYW1wbGUpID0+IHtcbiAgICBidWNrZXRzW1BBR0VfTE9BRF9USU1FXS5wdXNoKHNhbXBsZVtQQUdFX0xPQURfVElNRV0pO1xuXG4gICAgc2FtcGxlLnBoYXNlcy5mb3JFYWNoKChwaGFzZURhdGEpID0+IHtcbiAgICAgIGNvbnN0IGJ1Y2tldCA9IGJ1Y2tldHNbcGhhc2VEYXRhLnBoYXNlXSB8fCBbXTtcbiAgICAgIGJ1Y2tldC5wdXNoKHZhbHVlR2VuKHBoYXNlRGF0YSkpO1xuICAgICAgYnVja2V0c1twaGFzZURhdGEucGhhc2VdID0gYnVja2V0O1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gYnVja2V0cztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRUaXRsZUNvbmZpZ3Mge1xuICBzZXJ2ZXJzOiBBcnJheTx7IG5hbWU6IHN0cmluZyB9PjtcbiAgcGxvdFRpdGxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGJyb3dzZXJWZXJzaW9uOiBzdHJpbmc7XG59XG5cbi8qKlxuICogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgc2VydmVyIGFuZCBwbG90IHRpdGxlIGF0dHJpYnV0ZXNcbiAqXG4gKiBAcGFyYW0gdGJDb25maWcgLSBDb25jZXJuZWQgb25seSBhYm91dCB0aGUgXCJzZXJ2ZXJzXCIgYW5kIFwicGxvdFRpdGxlXCJcbiAqICAgYXR0cmlidXRlXG4gKiBAcGFyYW0gdmVyc2lvbiAtIEJyb3dzZXIgdmVyc2lvblxuICogQHBhcmFtIHBsb3RUaXRsZSAtIE9wdGlvbmFsIGV4cGxpY2l0IHRpdGxlIGZyb20gY2xpIGZsYWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVUaXRsZXMoXG4gIHRiQ29uZmlnOiBQYXJ0aWFsPElUQkNvbmZpZz4sXG4gIHZlcnNpb246IHN0cmluZyxcbiAgcGxvdFRpdGxlPzogc3RyaW5nXG4pOiBQYXJzZWRUaXRsZUNvbmZpZ3Mge1xuICBjb25zdCByZXBvcnRUaXRsZXMgPSB7XG4gICAgc2VydmVyczogW3sgbmFtZTogXCJDb250cm9sXCIgfSwgeyBuYW1lOiBcIkV4cGVyaW1lbnRcIiB9XSxcbiAgICBwbG90VGl0bGU6IHRiQ29uZmlnLnBsb3RUaXRsZVxuICAgICAgPyB0YkNvbmZpZy5wbG90VGl0bGVcbiAgICAgIDogZGVmYXVsdEZsYWdBcmdzLnBsb3RUaXRsZSxcbiAgICBicm93c2VyVmVyc2lvbjogdmVyc2lvbixcbiAgfTtcblxuICBpZiAodGJDb25maWcuc2VydmVycykge1xuICAgIHJlcG9ydFRpdGxlcy5zZXJ2ZXJzID0gdGJDb25maWcuc2VydmVycy5tYXAoKHRpdGxlQ29uZmlnLCBpZHgpID0+IHtcbiAgICAgIGlmIChpZHggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHsgbmFtZTogYENvbnRyb2w6ICR7dGl0bGVDb25maWcubmFtZX1gIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyBuYW1lOiBgRXhwZXJpbWVudDogJHt0aXRsZUNvbmZpZy5uYW1lfWAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIGlmIHBhc3NpbmcgYW4gZXhwbGljaXQgcGxvdFRpdGxlIHZpYSBjbGkgZmxhZyB0aGlzIHRydW1wc1xuICAvLyB0aGUgdGJDb25maWcucGxvdFRpdGxlIGFuZCBkZWZhdWx0c1xuICBpZiAocGxvdFRpdGxlKSB7XG4gICAgcmVwb3J0VGl0bGVzLnBsb3RUaXRsZSA9IHBsb3RUaXRsZTtcbiAgfVxuXG4gIHJldHVybiByZXBvcnRUaXRsZXM7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgdGhlIEhUTUwgcmVuZGVyIGRhdGEgZm9yIHRoZSBjdW11bGF0aXZlIGNoYXJ0LiBFbnN1cmUgdG8gY29udmVydCB0b1xuICogbWlsbGlzZWNvbmRzIGZvciBwcmVzZW50YXRpb25cbiAqXG4gKiBAcGFyYW0gY29udHJvbERhdGEgLSBTYW1wbGVzIG9mIHRoZSBiZW5jaG1hcmsgb2YgY29udHJvbCBzZXJ2ZXJcbiAqIEBwYXJhbSBleHBlcmltZW50RGF0YSAtIFNhbXBsZXMgb2YgdGhlIGJlbmNobWFyayBleHBlcmltZW50IHNlcnZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDdW11bGF0aXZlQ2hhcnREYXRhKFxuICBjb250cm9sRGF0YTogSVRyYWNlckJlbmNoVHJhY2VSZXN1bHQsXG4gIGV4cGVyaW1lbnREYXRhOiBJVHJhY2VyQmVuY2hUcmFjZVJlc3VsdFxuKTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB7XG4gIGNvbnN0IGN1bXVsYXRpdmVWYWx1ZUZ1bmMgPSAoYTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSk6IG51bWJlciA9PlxuICAgIGNvbnZlcnRNaWNyb3NlY29uZHNUb01TKGEuc3RhcnQgKyBhLmR1cmF0aW9uKTtcblxuICBjb25zdCB2YWx1ZXNCeVBoYXNlQ29udHJvbCA9IGJ1Y2tldFBoYXNlVmFsdWVzKFxuICAgIGNvbnRyb2xEYXRhLnNhbXBsZXMsXG4gICAgY3VtdWxhdGl2ZVZhbHVlRnVuY1xuICApO1xuICBjb25zdCB2YWx1ZXNCeVBoYXNlRXhwZXJpbWVudCA9IGJ1Y2tldFBoYXNlVmFsdWVzKFxuICAgIGV4cGVyaW1lbnREYXRhLnNhbXBsZXMsXG4gICAgY3VtdWxhdGl2ZVZhbHVlRnVuY1xuICApO1xuICBjb25zdCBwaGFzZXMgPSBPYmplY3Qua2V5cyh2YWx1ZXNCeVBoYXNlQ29udHJvbCkuZmlsdGVyKFxuICAgIChrKSA9PiBrICE9PSBQQUdFX0xPQURfVElNRVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgY2F0ZWdvcmllczogSlNPTi5zdHJpbmdpZnkocGhhc2VzKSxcbiAgICBjb250cm9sRGF0YTogSlNPTi5zdHJpbmdpZnkocGhhc2VzLm1hcCgoaykgPT4gdmFsdWVzQnlQaGFzZUNvbnRyb2xba10pKSxcbiAgICBleHBlcmltZW50RGF0YTogSlNPTi5zdHJpbmdpZnkoXG4gICAgICBwaGFzZXMubWFwKChrKSA9PiB2YWx1ZXNCeVBoYXNlRXhwZXJpbWVudFtrXSlcbiAgICApLFxuICB9O1xufVxuXG4vKipcbiAqIENhbGwgdGhlIHN0YXRzIGhlbHBlciBmdW5jdGlvbnMgdG8gZ2VuZXJhdGUgdGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgYW5kXG4gKiBIb2RnZXPigJNMZWhtYW5uIGVzdGltYXRvci4gRm9ybWF0IHRoZSBkYXRhIGludG8gSFRNTFNlY3Rpb25SZW5kZXJEYXRhXG4gKiBzdHJ1Y3R1cmUuXG4gKlxuICogQHBhcmFtIGNvbnRyb2xWYWx1ZXMgLSBWYWx1ZXMgZm9yIHRoZSBjb250cm9sIGZvciB0aGUgcGhhc2VcbiAqIEBwYXJhbSBleHBlcmltZW50VmFsdWVzIC0gVmFsdWVzIGZvciB0aGUgZXhwZXJpbWVudCBmb3IgdGhlIHBoYXNlXG4gKiBAcGFyYW0gcGhhc2VOYW1lIC0gTmFtZSBvZiB0aGUgcGhhc2UgdGhlIHZhbHVlcyByZXByZXNlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFBoYXNlRGF0YShcbiAgY29udHJvbFZhbHVlczogbnVtYmVyW10sXG4gIGV4cGVyaW1lbnRWYWx1ZXM6IG51bWJlcltdLFxuICBwaGFzZU5hbWU6IHN0cmluZ1xuKTogSFRNTFNlY3Rpb25SZW5kZXJEYXRhIHtcbiAgY29uc3Qgc3RhdHMgPSBuZXcgU3RhdHMoe1xuICAgIGNvbnRyb2w6IGNvbnRyb2xWYWx1ZXMsXG4gICAgZXhwZXJpbWVudDogZXhwZXJpbWVudFZhbHVlcyxcbiAgICBuYW1lOiBcIm91dHB1dFwiLFxuICB9KTtcbiAgY29uc3QgaXNOb3RTaWduaWZpY2FudCA9XG4gICAgKHN0YXRzLmNvbmZpZGVuY2VJbnRlcnZhbC5taW4gPCAwICYmIDAgPCBzdGF0cy5jb25maWRlbmNlSW50ZXJ2YWwubWF4KSB8fFxuICAgIChzdGF0cy5jb25maWRlbmNlSW50ZXJ2YWwubWluID4gMCAmJiAwID4gc3RhdHMuY29uZmlkZW5jZUludGVydmFsLm1heCkgfHxcbiAgICAoc3RhdHMuY29uZmlkZW5jZUludGVydmFsLm1pbiA9PT0gMCAmJiBzdGF0cy5jb25maWRlbmNlSW50ZXJ2YWwubWF4ID09PSAwKTtcblxuICByZXR1cm4ge1xuICAgIHBoYXNlOiBwaGFzZU5hbWUsXG4gICAgaWRlbnRpZmllckhhc2g6IHBoYXNlTmFtZSxcbiAgICBpc1NpZ25pZmljYW50OiAhaXNOb3RTaWduaWZpY2FudCxcbiAgICBzYW1wbGVDb3VudDogc3RhdHMuc2FtcGxlQ291bnQuY29udHJvbCxcbiAgICBjaU1pbjogc3RhdHMuY29uZmlkZW5jZUludGVydmFsLm1pbixcbiAgICBjaU1heDogc3RhdHMuY29uZmlkZW5jZUludGVydmFsLm1heCxcbiAgICBobERpZmY6IHN0YXRzLmVzdGltYXRvcixcbiAgICBzZXJ2ZXJzOiB1bmRlZmluZWQsXG4gICAgY29udHJvbEZvcm1hdGVkU2FtcGxlczogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbWluOiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuY29udHJvbC5taW4sXG4gICAgICBxMTogc3RhdHMuc2V2ZW5GaWd1cmVTdW1tYXJ5LmNvbnRyb2xbMjVdLFxuICAgICAgbWVkaWFuOiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuY29udHJvbFs1MF0sXG4gICAgICBxMzogc3RhdHMuc2V2ZW5GaWd1cmVTdW1tYXJ5LmNvbnRyb2xbNzVdLFxuICAgICAgbWF4OiBzdGF0cy5zZXZlbkZpZ3VyZVN1bW1hcnkuY29udHJvbC5tYXgsXG4gICAgICBvdXRsaWVyczogc3RhdHMub3V0bGllcnMuY29udHJvbC5vdXRsaWVycyxcbiAgICAgIHNhbXBsZXNNUzogc3RhdHMuY29udHJvbE1TLFxuICAgIH0pLFxuICAgIGV4cGVyaW1lbnRGb3JtYXRlZFNhbXBsZXM6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG1pbjogc3RhdHMuc2V2ZW5GaWd1cmVTdW1tYXJ5LmV4cGVyaW1lbnQubWluLFxuICAgICAgcTE6IHN0YXRzLnNldmVuRmlndXJlU3VtbWFyeS5leHBlcmltZW50WzI1XSxcbiAgICAgIG1lZGlhbjogc3RhdHMuc2V2ZW5GaWd1cmVTdW1tYXJ5LmV4cGVyaW1lbnRbNTBdLFxuICAgICAgcTM6IHN0YXRzLnNldmVuRmlndXJlU3VtbWFyeS5leHBlcmltZW50Wzc1XSxcbiAgICAgIG1heDogc3RhdHMuc2V2ZW5GaWd1cmVTdW1tYXJ5LmV4cGVyaW1lbnQubWF4LFxuICAgICAgb3V0bGllcnM6IHN0YXRzLm91dGxpZXJzLmV4cGVyaW1lbnQub3V0bGllcnMsXG4gICAgICBzYW1wbGVzTVM6IHN0YXRzLmV4cGVyaW1lbnRNUyxcbiAgICB9KSxcbiAgfTtcbn1cblxuLyoqXG4gKiBQcmlvcml0aXplIHRoZSBwaGFzZSB0aGF0IGhhcyB0aGUgbGFyZ2VzdCBkaWZmZXJlbmNlIGluIHJlZ3Jlc3Npb24gZmlyc3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwaGFzZVNvcnRlcihcbiAgYTogSFRNTFNlY3Rpb25SZW5kZXJEYXRhLFxuICBiOiBIVE1MU2VjdGlvblJlbmRlckRhdGFcbik6IG51bWJlciB7XG4gIGNvbnN0IEFfT05fVE9QID0gLTE7XG4gIGNvbnN0IEJfT05fVE9QID0gMTtcblxuICBpZiAoYS5pc1NpZ25pZmljYW50KSB7XG4gICAgaWYgKCFiLmlzU2lnbmlmaWNhbnQpIHtcbiAgICAgIHJldHVybiBBX09OX1RPUDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgYm90aCBhcmUgc2lnbmlmaWNhbnQgcHJlZmVyIHNsb3dlc3Qgb25lXG4gICAgICByZXR1cm4gYS5obERpZmYgLSBiLmhsRGlmZjtcbiAgICB9XG4gIH1cblxuICBpZiAoYi5pc1NpZ25pZmljYW50KSB7XG4gICAgaWYgKCFhLmlzU2lnbmlmaWNhbnQpIHtcbiAgICAgIHJldHVybiBCX09OX1RPUDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlRGF0YUZvckhUTUwoXG4gIGNvbnRyb2xEYXRhOiBJVHJhY2VyQmVuY2hUcmFjZVJlc3VsdCxcbiAgZXhwZXJpbWVudERhdGE6IElUcmFjZXJCZW5jaFRyYWNlUmVzdWx0LFxuICByZXBvcnRUaXRsZXM6IFBhcnNlZFRpdGxlQ29uZmlnc1xuKToge1xuICBkdXJhdGlvblNlY3Rpb246IEhUTUxTZWN0aW9uUmVuZGVyRGF0YTtcbiAgc3ViUGhhc2VTZWN0aW9uczogSFRNTFNlY3Rpb25SZW5kZXJEYXRhW107XG59IHtcbiAgY29uc3QgdmFsdWVzQnlQaGFzZUNvbnRyb2wgPSBidWNrZXRQaGFzZVZhbHVlcyhjb250cm9sRGF0YS5zYW1wbGVzKTtcbiAgY29uc3QgdmFsdWVzQnlQaGFzZUV4cGVyaW1lbnQgPSBidWNrZXRQaGFzZVZhbHVlcyhleHBlcmltZW50RGF0YS5zYW1wbGVzKTtcbiAgY29uc3Qgc3ViUGhhc2VzID0gT2JqZWN0LmtleXModmFsdWVzQnlQaGFzZUNvbnRyb2wpLmZpbHRlcihcbiAgICAoaykgPT4gayAhPT0gUEFHRV9MT0FEX1RJTUVcbiAgKTtcblxuICBjb25zdCBkdXJhdGlvblNlY3Rpb24gPSBmb3JtYXRQaGFzZURhdGEoXG4gICAgdmFsdWVzQnlQaGFzZUNvbnRyb2xbUEFHRV9MT0FEX1RJTUVdLFxuICAgIHZhbHVlc0J5UGhhc2VFeHBlcmltZW50W1BBR0VfTE9BRF9USU1FXSxcbiAgICBQQUdFX0xPQURfVElNRVxuICApO1xuXG4gIGNvbnN0IHN1YlBoYXNlU2VjdGlvbnM6IEhUTUxTZWN0aW9uUmVuZGVyRGF0YVtdID0gc3ViUGhhc2VzLm1hcCgocGhhc2UpID0+IHtcbiAgICBjb25zdCBjb250cm9sVmFsdWVzID0gdmFsdWVzQnlQaGFzZUNvbnRyb2xbcGhhc2VdO1xuICAgIGNvbnN0IGV4cGVyaW1lbnRWYWx1ZXMgPSB2YWx1ZXNCeVBoYXNlRXhwZXJpbWVudFtwaGFzZV07XG4gICAgY29uc3QgcmVuZGVyRGF0YUZvclBoYXNlID0gZm9ybWF0UGhhc2VEYXRhKFxuICAgICAgY29udHJvbFZhbHVlcyxcbiAgICAgIGV4cGVyaW1lbnRWYWx1ZXMsXG4gICAgICBwaGFzZVxuICAgICk7XG5cbiAgICByZW5kZXJEYXRhRm9yUGhhc2Uuc2VydmVycyA9IHJlcG9ydFRpdGxlcy5zZXJ2ZXJzO1xuICAgIHJldHVybiByZW5kZXJEYXRhRm9yUGhhc2UgYXMgSFRNTFNlY3Rpb25SZW5kZXJEYXRhO1xuICB9KTtcblxuICBkdXJhdGlvblNlY3Rpb24uc2VydmVycyA9IHJlcG9ydFRpdGxlcy5zZXJ2ZXJzO1xuICByZXR1cm4geyBkdXJhdGlvblNlY3Rpb24sIHN1YlBoYXNlU2VjdGlvbnMgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ29uc3VtYWJsZUhUTUwoXG4gIGNvbnRyb2xEYXRhOiBJVHJhY2VyQmVuY2hUcmFjZVJlc3VsdCxcbiAgZXhwZXJpbWVudERhdGE6IElUcmFjZXJCZW5jaFRyYWNlUmVzdWx0LFxuICB0YkNvbmZpZzogSVRCQ29uZmlnLFxuICBwbG90VGl0bGU/OiBzdHJpbmdcbik6IHN0cmluZyB7XG4gIGNvbnN0IHJlcG9ydFRpdGxlcyA9IHJlc29sdmVUaXRsZXMoXG4gICAgdGJDb25maWcsXG4gICAgY29udHJvbERhdGEubWV0YS5icm93c2VyVmVyc2lvbixcbiAgICBwbG90VGl0bGVcbiAgKTtcbiAgY29uc3QgeyBkdXJhdGlvblNlY3Rpb24sIHN1YlBoYXNlU2VjdGlvbnMgfSA9IGdlbmVyYXRlRGF0YUZvckhUTUwoXG4gICAgY29udHJvbERhdGEsXG4gICAgZXhwZXJpbWVudERhdGEsXG4gICAgcmVwb3J0VGl0bGVzXG4gICk7XG5cbiAgY29uc3QgdGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoUkVQT1JUX1RFTVBMQVRFX1JBVyk7XG5cbiAgcmV0dXJuIHRlbXBsYXRlKHtcbiAgICBjdW11bGF0aXZlQ2hhcnREYXRhOiBidWlsZEN1bXVsYXRpdmVDaGFydERhdGEoY29udHJvbERhdGEsIGV4cGVyaW1lbnREYXRhKSxcbiAgICBkdXJhdGlvblNlY3Rpb24sXG4gICAgcmVwb3J0VGl0bGVzLFxuICAgIHN1YlBoYXNlU2VjdGlvbnMsXG4gICAgY29uZmlnc1NKU09OU3RyaW5nOiBKU09OLnN0cmluZ2lmeSh0YkNvbmZpZywgbnVsbCwgNCksXG4gICAgc2VjdGlvbkZvcm1hdHRlZERhdGFKc29uOiBKU09OLnN0cmluZ2lmeShzdWJQaGFzZVNlY3Rpb25zKSxcbiAgfSk7XG59XG4iXX0=